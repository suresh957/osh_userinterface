/*! production 28-05-2018 */

angular.module("newapp").controller("LoginCtrl",["$scope","$http","$location","$route","resturl",function(t,e,o,a,r){t.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.isDisabled=!1,t.redirect=function(a){t.isDisabled=!0,console.log(a),e.post(r+"/user/login",a).then(function(e){1==e.data.success?(localStorage.setItem("loggedInUser",a.userName),console.log(localStorage.getItem("loggedInUser")),o.path("/dashboard"),t.title=e.data.name,console.log(t.title),localStorage.setItem("loggedInUserName",t.title),t.userType=e.data.type,localStorage.setItem("loggedInUserType",t.userType),localStorage.setItem("loggedInuserId",e.data.userId)):0==e.data.success&&(t.errmsg=!0,t.errmessage=e.data.errorMessage,t.session.password="",t.isDisabled=!1,o.path("/login"))})},t.alerthide=function(){t.errmsg=!1},e.get(r+"/getAllCategories").then(function(e){console.log(e),t.menuitem=e.data.categoryData}),e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),t.cartlist=e.data,t.cartCode=e.data.code,console.log(t.cartlist),t.totalprice=e.data.total,console.log(t.lengthofcart),null==e.data.shoppingCartItems?t.lengthofcart=0:t.lengthofcart=e.data.shoppingCartItems.length}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("vendorlogCtrl",["$scope","$http","$location","$route","resturl",function(t,e,o,a,r){t.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.isDisabled=!1,t.vendorlog=function(a){t.isDisabled=!0,console.log(a),e.post(r+"/user/login",a).then(function(e){1==e.data.success?(localStorage.setItem("loggedInUser",a.userName),console.log(localStorage.getItem("loggedInUser")),o.path("/dashboard"),t.title=e.data.name,console.log(t.title),localStorage.setItem("loggedInUserName",t.title),t.userType=e.data.type,localStorage.setItem("loggedInUserType",t.userType),localStorage.setItem("loggedInuserId",e.data.userId)):0==e.data.success&&(t.errmsg=!0,t.errmessage=e.data.errorMessage,t.vlogin.password="",t.isDisabled=!1,o.path("/vendorlogin"))})},t.alerthide=function(){t.errmsg=!1},e.get(r+"/getAllCategories").then(function(e){console.log(e),t.menuitem=e.data.categoryData}),t.mouseOver=function(e){t.set_bg=function(){return t.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+t.bgimg+".jpg)"}}},e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),t.cartlist=e.data,t.cartCode=e.data.code,console.log(t.cartlist),t.totalprice=e.data.total,console.log(t.lengthofcart),null==e.data.shoppingCartItems?t.lengthofcart=0:t.lengthofcart=e.data.shoppingCartItems.length})}]),angular.module("newapp").controller("RegistrationCtrl",["$scope","$http","$location","$route","resturl","$rootScope",function(a,t,o,e,r,n){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.get(r+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),a.isDisabled=!1,a.alerthide=function(){a.errmsg=!1},a.register=function(e){a.isDisabled=!0,n.firstName=e.firstName,n.lastName=e.lastName,n.usertype=e.userType,e.activationURL="http://onesevenhome.com/#/activateuser",t.post(r+"/customer/register",e).then(function(e){"true"==e.data.status?o.path("/conform"):(a.errmsg=!0,a.isDisabled=!1,o.path("/registration"),a.errmessage=e.data.errorMessage)})},t.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,a.cartCode=e.data.code,console.log(a.cartlist),a.totalprice=e.data.total,console.log(a.lengthofcart),null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("vendorregCtrl",["$scope","$http","$location","$route","resturl","$rootScope",function(r,a,n,e,t,l){function o(o){r.isDisabled=!0,console.log(o),l.vendorName=o.companyName,l.usertype=o.userType,o.activationURL="http://rainiersoft.com/clients/onesevenhome/#/activateuser",a({method:"POST",url:t+"/user/register",headers:{"Content-Type":void 0},transformRequest:function(e){var a=new FormData;if(a.append("vendorRequest",JSON.stringify(o)),0==e.file.length)a.append("file",new File([""],"emptyFile.jpg",{type:"impage/jpeg"}));else for(var t=0;t<e.file.length;t++)a.append("file",e.file[t]);return a},data:{fileInfo:o,file:r.files}}).success(function(e,a,t,o){console.log(e),console.log(e.status),"true"==e.status?n.path("/conform"):(r.errmsg=!0,r.isDisabled=!1,n.path("/vendorreg"),r.errmessage=e.errorMessage)}).error(function(e,a,t,o){n.path("/vendorreg")})}a.get(t+"/getAllCategories").then(function(e){console.log(e),r.menuitem=e.data.categoryData}),r.isDisabled=!1,r.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],r.mouseOver=function(e){r.set_bg=function(){return r.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+r.bgimg+".jpg)"}}},r.alerthide=function(){r.errmsg=!1},a.get(t+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),r.cartlist=e.data,console.log(r.cartlist),null==e.data.shoppingCartItems?r.lengthofcart=0:r.lengthofcart=e.data.shoppingCartItems.length}),r.files=[],r.$on("seletedFile",function(e,a){r.$apply(function(){r.files.push(a.file)})}),r.example8model=[],r.example8settings={checkBoxes:!0,enableSearch:!0},r.constitutionchange=function(e){if("Services"==e)a.get(t+"/services").then(function(e){for(var a=e.data.services,t=0;t<a.length;t++)delete a[t].imageURL1,delete a[t].imageURL2,delete a[t].description,delete a[t].new,a[t].label=a[t].serviceType,delete a[t].serviceType;r.example8data=a,r.example8model=[r.example8data[0]]});else if("Architects"==e){a.post(t+"/getCategoriesForCat",{searchString:"Architects"}).then(function(e){r.menuitems=angular.copy(e.data.categoryData);var a=r.menuitems[0].subCategory;console.log(a);for(var t=0;t<a.length;t++)delete a[t].type,a[t].label=a[t].title,delete a[t].title,r.example8data=a,r.example8model=[r.example8data[0]],console.log(r.example8data)})}else"Machinery"==e?(r.catpayload={searchString:"MACHINERY & EQUIPMENT"},a.post(t+"/getCategoriesForCat",r.catpayload).then(function(e){r.menuitems=angular.copy(e.data.categoryData);var a=r.menuitems[0].subCategory;console.log(a);for(var t=0;t<a.length;t++)delete a[t].type,a[t].label=a[t].title,delete a[t].title,r.example8data=a,r.example8model=[r.example8data[0]],console.log(r.example8data)})):"Wallpaper"==e&&(r.catpayload={searchString:"WALL PAPER"},a.post(t+"/getCategoriesForCat",r.catpayload).then(function(e){r.menuitems=angular.copy(e.data.categoryData);var a=r.menuitems[0].subCategory;console.log(a);for(var t=0;t<a.length;t++)delete a[t].type,a[t].label=a[t].title,delete a[t].title,r.example8data=a,r.example8model=[r.example8data[0]],console.log(r.example8data)}))},r.regvendor=function(e){e.userType="VENDOR",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e.vendorConstFirm,console.log(e),o(e)},r.Arcvendor=function(e){e.userType="ARCHITECTS",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e.vendorConstFirm,console.log(e);var a=[];for(i=0;i<r.example8model.length;i++)a.push(r.example8model[i].id);e.architectIds=a,console.log(r.example8model),console.log(e),o(e)},r.Machineryvendor=function(e){e.userType="MACHINERY & EQUIPMENT",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e.vendorConstFirm,console.log(e);var a=[];for(i=0;i<r.example8model.length;i++)a.push(r.example8model[i].id);e.architectIds=a,console.log(r.example8model),console.log(e),o(e)},r.wallpapervendor=function(e){e.userType="WALL PAPER",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e.vendorConstFirm,console.log(e);var a=[];for(i=0;i<r.example8model.length;i++)a.push(r.example8model[i].id);e.architectIds=a,console.log(r.example8model),o(e)},r.regservices=function(e){e.userType="SERVICE",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e[".vendorConstFirm"];var a=[];for(i=0;i<r.example8model.length;i++)a.push(r.example8model[i].id);e.serviceIds=a,console.log(r.example8model),console.log(e),o(e)},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),newapp.directive("uploadFiles",function(){return{scope:!0,link:function(o,e,a){e.bind("change",function(e){for(var a=e.target.files,t=0;t<a.length;t++)o.$emit("seletedFile",{file:a[t]})})}}}),angular.module("newapp").controller("forgetPassCtrl",["$scope","$http","$location","resturl",function(a,t,e,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.get("http://103.92.235.45/shop/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),a.mouseOver=function(e){a.set_bg=function(){return a.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+a.bgimg+".jpg)"}}},t.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,console.log(a.cartlist),null!=e.data.shoppingCartItems?(a.lengthofcart=e.data.shoppingCartItems.length,console.log(a.lengthofcart)):a.lengthofcart=0}),a.alerthide=function(){a.errmsg=!1},a.forget=function(e){console.log(e),e.forgotPwdURL="http://onesevenhome.com/#/newpassword",t.post(o+"/user/resetpwd",e).then(function(e){null==e.data.errorMessage?(console.log(e.data.errorMessage),a.errmsg=!0,a.errmessage=e.data.successMessage):(a.errmsg=!0,a.errmessage=e.data.errorMessage)})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("newPassCtrl",["$scope","$http","$location","$routeParams","resturl",function(a,t,o,r,n){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.get(n+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),a.lengthofcart=0,console.log(a.lengthofcart),a.alerthide=function(){a.errmsg=!1},a.isDisabled=!1,a.newpassword=function(e){a.isDisabled=!0,e.ofid=r.ofid,e.email=r.email,console.log(e),t.post(n+"/user/updatepwd",e).then(function(e){console.log(e),null==e.data.errorMessage?o.path("/login"):(a.errmsg=!0,a.isDisabled=!1,o.path("/newpassword"),a.errmessage=e.data.errorMessage)})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("DashboardCtrl",["$scope","$http","$location","$routeParams","$filter","resturl",function(l,t,o,e,a,r){null!=localStorage.loggedInUser?(l.loggedInUser=localStorage.loggedInUser,l.loggedInUserName=localStorage.loggedInUserName,l.loggedInUserType=localStorage.loggedInUserType,l.loggedInuserId=localStorage.loggedInuserId,l.userlogged=!0):l.userlogged=!1,l.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],l.mouseOver=function(e){l.set_bg=function(){return l.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+l.bgimg+".jpg)"}}},l.logout=function(){localStorage.clear(),o.path("/login")},l.myProfile=function(){o.path("/myaccount")},l.topslides=[{img1:"img/Hero-Banners-Hall-530x922_1.jpg",img2:"img/Hero-Banners-kitchen-265x926_1.jpg",img3:"img/Hero-Banners-bedroom-265x926_1.jpg"},{img1:"img/Hero-Banners-Hall-530x922_2.jpg",img2:"img/Hero-Banners-kitchen-265x926_2.jpg",img3:"img/Hero-Banners-bedroom-265x926_3.jpg"},{img1:"img/Hero-Banners-Hall-530x922_3.jpg",img2:"img/Hero-Banners-kitchen-265x926_3.jpg",img3:"img/Hero-Banners-bedroom-265x926_3.jpg"},{img1:"img/Hero-Banners-Hall-530x922_4.jpg",img2:"img/Hero-Banners-kitchen-265x926_4.jpg",img3:"img/Hero-Banners-bedroom-265x926_4.jpg"}],l.slicktopslideConfig={dots:!0,arrows:!1,infinite:!0,autoplay:!0,autoplayspeed:1e3},t.get(r+"/getAllCategories").then(function(e){console.log(e),l.menuitem=e.data.categoryData}),t.get(r+"/getDealOfDay").then(function(e){console.log("deal",e),l.dealday=e.data.dealOfDay;var a=[];for(abc=0;abc<e.data.dealOfDay.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.dealOfDay.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(l.showTag=a[i],l[l.showTag]=!1):(l.showTag=a[i],l[l.showTag]=!0);if(null!=e.data.dealOfDay&&null!=e.data.dealOfDay&&null!=e.data.dealOfDay.productPriceSpecialStartDate&&null!=e.data.dealOfDay.productPriceSpecialStartDate){var t=new Date(e.data.dealOfDay.productPriceSpecialStartDate);t.setDate(t.getDate()+1);var o=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),n=new Date(o).getTime();$interval(function(){var e=(new Date).getTime(),a=n-e;l.hours=Math.floor(a%864e5/36e5),l.minutes=Math.floor(a%36e5/6e4),l.seconds=Math.floor(a%6e4/1e3);var t=Math.log(l.hours)*Math.LOG10E+1|0,o=Math.log(l.minutes)*Math.LOG10E+1|0,r=Math.log(l.seconds)*Math.LOG10E+1|0;t<2&&(l.hours="0"+l.hours),o<2&&(l.minutes="0"+l.minutes),r<2&&(l.seconds="0"+l.seconds)},1e3)}}),t.get(r+"/getNewProduct").then(function(e){console.log(e),l.products=e.data.newProducts,l.NewproductsLoaded=!0,l.slicknewproductsConfig={dots:!0,arrows:!1,infinite:!0,slidesToShow:2,slidesToScroll:1};var a=[];for(abc=0;abc<e.data.newProducts.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.newProducts.length;i++)console.log(e.data.newProducts[i].discountPercentage),"0"==e.data.newProducts[i].discountPercentage||null==e.data.newProducts[i].discountPercentage?(l.showTag=a[i],l[l.showTag]=!1):(l.showTag=a[i],l[l.showTag]=!0)}),t.get(r+"/getRecommendedProduct").then(function(e){for(console.log("recommend",e),l.recommend=e.data.recommendedProducts,i=0;i<e.data.recommendedProducts.length;i++)console.log(e.data.recommendedProducts[i].productDiscountPrice),null==e.data.recommendedProducts[i].productDiscountPrice?(l.productprce=!0,l.produdsctprice=!1):(l.productprce=!1,l.produdsctprice=!0);l.RecomendLoaded=!0,l.slickrecommendedprocutsConfig={dots:!1,arrows:!0,infinite:!0,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:3,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:2,slidesToScroll:1}},{breakpoint:500,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:1,slidesToScroll:1}}]}}),t.get(r+"/getFeatureProduct").then(function(e){console.log(e),l.feature=e.data.feaureProducts,l.FeaturedLoaded=!0,l.slickfeatureproductsConfig={dots:!0,arrows:!1,infinite:!0,slidesToShow:2,slidesToScroll:1}}),t.get(r+"/services").then(function(e){console.log(e),l.deal=e.data.services,l.SreviceLoaded=!0,l.slickServiceConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:3,slidesToScroll:3,autoplay:!0,autoplayspeed:600}}),t.get("js/controllers/whatwedo.json").then(function(e){console.log(e),l.whatWeDoResp=e.data.whatWeDoResponse,l.getProdImgPath=e.data.whatWeDoResponse[0].imageURL1,l.serviceDescription=e.data.whatWeDoResponse[0].description}),t.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),l.cartlist=e.data,console.log(l.cartlist),null==e.data.shoppingCartItems?l.lengthofcart=0:l.lengthofcart=e.data.shoppingCartItems.length}),t.get(r+"/getAllSubCatImages").then(function(e){console.log("subcat",e),console.log(e),l.catImageData=e.data.responseData,l.subCatagoryImgsLoaded=!0,l.slickSubCatConfig={dots:!1,arrows:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplayspeed:700}});var n={status:"Y"};t.post(r+"/getTestimonials",n).then(function(e){console.log("Testimonials",e),l.testimonialData=e.data.responseData}),t.post(r+"/getBrandImages",n).then(function(e){console.log("brands",e),l.brandData=e.data.responseData}),l.getDealDayPage=function(e){null!=e&&o.path("/productpage/"+e)},l.getSubCatPage=function(e,a){console.log(e),console.log(a),o.path("sub_category/"+e+"/categories/"+a)},l.getProductServicePage=function(e,a){null!=e&&null!=e.productId&&a?o.path("productpage/"+e.productId):a||null==e||null==e.serviceType||o.path("detailservices/"+e.serviceType+"/"+e.id)},l.getProductImage=function(e){console.log(e),l.getProdImgPath=e.imageURL1,l.serviceDescription=e.description},0==l.userlogged?l.testmonialView=!1:l.testmonialView=!0,l.submitTestimonial=function(e){var a={customerId:l.loggedInuserId,testmonialDescription:e};console.log(a),t.post(r+"/testimonial/save",a).then(function(e){console.log(e),"true"==e.data.status?(l.success=e.data.successMessage,$(".successPopup").modal("show")):(l.failure=e.data.errorMessage,$(".errorPopup").modal("show")),testmonialDescription=""})},t.get(r+"/getHomePageOffers").then(function(e){console.log("HomePageOffers",e),l.offersData=e.data.responseData}),l.getNotifications=function(e){console.log(e);var a={emailAddress:e};t.post(r+"/saveExternalUser",a).then(function(e){console.log(e),$rootScope.subscriptionData={},$rootScope.subscriptionData=e.data,o.path("/subscribed")})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("ContactCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),e.get(o+"/getContactUS").then(function(e){console.log(e),a.contactdetails=e.data}),e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,console.log(a.cartlist),null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("ServicesCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,1==a.userlogged?(a.logout=function(){localStorage.clear(),t.path("/login")},a.mouseOver=function(e){a.set_bg=function(){return a.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+a.bgimg+".jpg)"}}},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,console.log(a.cartlist),null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})):t.path("/login"),e.get(o+"/services").then(function(e){console.log(e),a.deal=e.data.services}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("DetailservicesCtrl",["$scope","$http","$routeParams","$location","resturl",function(n,l,i,s,g){n.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(n.loggedInUser=localStorage.loggedInUser,n.loggedInUserName=localStorage.loggedInUserName,n.loggedInUserType=localStorage.loggedInUserType,n.loggedInuserId=localStorage.loggedInuserId,n.userlogged=!0):n.userlogged=!1,n.mouseOver=function(e){n.set_bg=function(){return n.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+n.bgimg+".jpg)"}}},n.serveshow=!1,n.logout=function(){localStorage.clear(),s.path("/login")},n.myProfile=function(){s.path("/myaccount")},n.id=i.serviceid,console.log(i.serviceid),n.selectedtype=i.sid,l.get(g+"/getAllCategories").then(function(e){console.log(e),n.menuitem=e.data.categoryData}),l.get(g+"/services").then(function(e){console.log(e),n.workers=e.data.services,$("#"+n.selectedtype).prop("checked",!0)}),l.get(g+"/services/"+i.sid+"/workers?pageNumber=1&pageSize=5").then(function(e){console.log(e),n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount,$(".todaydeal-sorting label:contains("+n.selectedtype+")").prev().prop("checked",!0)}),n.page=1,n.detailsPagingAct=function(e,a,t){l.get(g+"/services/"+i.sid+"/workers?pageNumber="+e+"&pageSize=5").then(function(e){console.log(e),n.servicedetails=e.data.responseData,n.totalCount=e.data.paginationData.totalCount})},l.get(g+"/getRecommendedProduct").then(function(e){console.log(e),n.recommend=e.data.recommendedProducts,n.RecomendLoaded=!0,n.slickrecommendedprocutsConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1}}),l.get(g+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),n.cartlist=e.data,console.log(n.cartlist),null==e.data.shoppingCartItems?n.lengthofcart=0:n.lengthofcart=e.data.shoppingCartItems.length}),n.updateSelection=function(e,a,t,o,r){n.selectedtype==t?$("#"+n.selectedtype).prop("checked",!0):s.path("/detailservices/"+t+"/"+o)},n.onItemRating=function(e,a,t){console.log(e),console.log(a);var o={customerId:n.loggedInuserId,serviceId:a.id,serviceTypeId:i.serviceid,rating:e,reviewTitle:"",reviewDescription:""};console.log(o),l.post(g+"/servicerating/save",o).then(function(e){console.log(e),l.get(g+"/services/"+i.sid+"/workers?pageNumber=1&pageSize=5").then(function(e){console.log(e),n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount,$(".todaydeal-sorting label:contains("+n.selectedtype+")").prev().prop("checked",!0)})})},n.mechpopup=function(e){n.vendorName=e.companyName,n.customerName=n.loggedInUserName,n.id=e.id,$("#appointmentDate").datepicker({autoclose:!0,format:"yyyy-mm-dd"}),$(".bookNowPopup").modal("show")},n.ratebook=function(e){console.log(e),n.ratingpopup={rateid:e.id,ratingcumponey:e.companyName}},n.onItemRating=function(a,e,t){n.starValue=a,console.log(n.starValue),console.log(e);var o={customerId:n.loggedInuserId,serviceId:e.id,serviceTypeId:i.serviceid,rating:n.starValue,reviewDescription:"",reviewTitle:""};console.log(o),l.post(g+"/servicerating/save",o).then(function(e){console.log(e),a=n.starValue,a="0",1==e.data.status?(n.success=e.data.successMessage,$(".successPopup").modal("show")):(n.failure=e.data.errorMessage,$(".errorPopup").modal("show")),l.get(g+"/services/"+i.sid+"/workers?pageNumber=1&pageSize=5").then(function(e){console.log(e),n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount,$(".todaydeal-sorting label:contains("+n.selectedtype+")").prev().prop("checked",!0)})})},n.searchVendor=function(e){console.log(e);var a={searchString:e,customerType:n.selectedtype};n.searchStr="",console.log(a),l.post(g+"/getServiceProvidersByLocation",a).then(function(e){console.log(e),null==e.data.paginationData&&(n.totalCount=0,n.servicedetails=""),n.servicedetails=e.data.responseData,null==e.data.responseData?(n.errorMsg=e.data.errorMsg,n.serveshow=!0):n.serveshow=!1,n.totalCount=e.data.paginationData.totalCount})},n.constitutionchange=function(e){console.log(e),n.serveshow=!1,"TopRated"==e&&(n.totalCount=0,l.get(g+"/services/"+i.sid+"/workers/toprated?pageNumber=1&pageSize=5").then(function(e){console.log(e),n.servicedetails=e.data.responseData,n.totalCount=e.data.paginationData.totalCount}),n.page=1,n.detailsPagingAct=function(e,a,t){l.get(g+"/services/"+i.sid+"/workers/toprated?pageNumber="+e+"&pageSize=5").then(function(e){console.log(e),n.servicedetails=e.data.responseData,n.totalCount=e.data.paginationData.totalCount})})},l.get(g+"/getUser/"+localStorage.loggedInuserId).then(function(e){console.log(e),"CUSTOMER"==localStorage.loggedInUserType?n.loggedInUserPincode=e.data.customerDetails.billing.postalCode:"SERVICE"==localStorage.loggedInUserType?n.loggedInUserPincode=e.data.serviceDetails.pinCode:n.loggedInUserPincode=e.data.vendorDetails.pinCode}),n.getProvidersByDistance=function(e){if(console.log(e,i.sid),console.log(n.loggedInUserPincode),""!=e){var a=e.split("-");console.log(a),l.get(g+"/services/"+i.sid+"/"+n.loggedInUserPincode+"/"+a[0]+"/"+a[1]+"?pageNumber=1&pageSize=5").then(function(e){console.log(e),null!=e.data.responseData?(n.serveshow=!1,n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount,$(".todaydeal-sorting label:contains("+n.selectedtype+")").prev().prop("checked",!0)):(n.serveshow=!0,n.servicedetails="",n.totalCount=0,n.errorMsg="No Service Providers are available over selected Range of Distance")})}},n.detailsPagingAct=function(e,a,t,o){if(console.log(e,a,t,o),""!=o){var r=o.split("-");console.log(r),l.get(g+"/services/"+i.sid+"/"+n.loggedInUserPincode+"/"+r[0]+"/"+r[1]+"?pageNumber="+e+"&pageSize=5").then(function(e){console.log(e),n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount})}},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").directive("starRating",function(){return{restrict:"A",template:'<i class="fa fa-star" ng-repeat="star in stars" ng-class="star" aria-hidden="true"></i>',scope:{ratingValue:"=",max:"=",onRatingSelected:"&"},link:function(t,e,a){t.toggle=function(e){t.ratingValue=e+1,t.onRatingSelected({rating:e+1})},t.$watch("ratingValue",function(e,a){isNaN(a)||function(){t.stars=[];for(var e=0;e<t.max;e++)t.stars.push({disabled:e>t.ratingValue}),e==t.ratingValue&&(t.stars[e].disabled=!0)}()})}}}),angular.module("newapp").controller("TodaydealsCtrl",["$scope","$http","$location","resturl",function(r,n,e,l){r.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(r.loggedInUser=localStorage.loggedInUser,r.loggedInUserName=localStorage.loggedInUserName,r.userlogged=!0):r.userlogged=!1,r.mouseOver=function(e){r.set_bg=function(){return r.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+r.bgimg+".jpg)"}}},r.logout=function(){localStorage.clear(),e.path("/login")},r.myProfile=function(){e.path("/myaccount")},null==localStorage.loggedInuserId?(r.showSignUp=!0,console.log(r.showSignUp)):r.showSignUp=!1,n.get(l+"/getAllCategories").then(function(e){console.log(e),r.menuitem=e.data.categoryData}),n.get(l+"/getRecommendedProduct").then(function(e){console.log(e),r.recommend=e.data.recommendedProducts,r.RecomendLoaded=!0,r.slickrecommendedprocutsConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1}}),r.todaycat=function(t,e,a){r.title=a.title,console.log(r.title),angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)})};var o={status:1};console.log(o),n.post(l+"/getTodaysDeals?pageNumber=1&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount}),r.page=1,r.PagingAct=function(e,a,t){n.post(l+"/getTodaysDeals?pageNumber="+e+"&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})},r.todaycat=function(t,e,a){r.title=a.title,console.log(r.title),angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)});var o={status:1,categoryCode:r.title};console.log(o),n.post(l+"/getTodaysDealsForCat?pageNumber=1&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount,r.page=1,r.PagingAct=function(e,a,t){n.post(l+"/getTodaysDealsForCat?pageNumber="+e+"&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})}})},r.active=function(){var o={status:1,category:r.title};console.log(o),n.post(l+"/getTodaysDeals?pageNumber=1&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount}),r.page=1,r.PagingAct=function(e,a,t){n.post(l+"/getTodaysDeals?pageNumber="+e+"&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})},r.todaycat=function(t,e,a){r.title=a.title,console.log(r.title),angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)});var o={status:0,category:r.title};console.log(o),n.post(l+"/getTodaysDeals?pageNumber=1&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})}},r.Expired=function(){var o={status:0,category:r.title};console.log(o),n.post(l+"/getTodaysDeals?pageNumber=1&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount}),r.page=1,r.PagingAct=function(e,a,t){n.post(l+"/getTodaysDeals?pageNumber="+e+"&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})},r.todaycat=function(t,e,a){r.title=a.title,console.log(r.title),angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)});var o={status:0,categoryCode:r.title};console.log(o),n.post(l+"/getTodaysDealsForCat?pageNumber=1&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount,r.page=1,r.PagingAct=function(e,a,t){n.post(l+"/getTodaysDealsForCat?pageNumber="+e+"&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})}})}},r.Upcoming=function(e){var o={status:2};console.log(o),n.post(l+"/getTodaysDeals?pageNumber=1&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount}),r.page=1,r.PagingAct=function(e,a,t){n.post(l+"/getTodaysDeals?pageNumber="+e+"&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})},r.todaycat=function(t,e,a){r.title=a.title,console.log(r.title),angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)});var o={status:2,categoryCode:r.title};console.log(o),n.post(l+"/getTodaysDealsForCat?pageNumber=1&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount,r.page=1,r.PagingAct=function(e,a,t){n.post(l+"/getTodaysDealsForCat?pageNumber="+e+"&pageSize=15",o).then(function(e){console.log(e),r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})}})}},n.get(l+"/getRecentBought").then(function(e){console.log(e),r.recently=e.data.recentlyBought,r.RecentlyLoaded=!0,r.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:1,slidesToScroll:1}}]}}),n.get(l+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),r.cartlist=e.data,console.log(r.cartlist),null==e.data.shoppingCartItems?r.lengthofcart=0:r.lengthofcart=e.data.shoppingCartItems.length}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("ProductpageCtrl",function(n,o,t,r,l){n.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(n.loggedInUser=localStorage.loggedInUser,n.loggedInUserName=localStorage.loggedInUserName,n.loggedInuserId=localStorage.loggedInuserId,n.userlogged=!0):n.userlogged=!1,n.isDisabled=!1,n.logout=function(){localStorage.clear(),t.path("/login")},n.myProfile=function(){t.path("/myaccount")},o.get(l+"/getAllCategories").then(function(e){console.log(e),n.menuitem=e.data.categoryData}),o.get(l+"/products/"+r.prodid).then(function(e){if(console.log(e),n.ppage=e.data,n.page=e.data.discountPercentage,n.pagedescription=e.data.productDescription,n.offerPrice=e.data.productDiscountPrice,n.mainPrice=e.data.productOriginalPrice,n.pointDescription=e.data.productDescTitle,console.log(n.page),n.showPrice=!0,0!=n.page&&null!=n.page&&n.offerPrice!=n.mainPrice||(n.showPrice=!1,n.originalPriceValue=!0),null!=n.pointDescription){n.showDescPoints=!0,n.array=[];for(var a=n.pointDescription.split("#"),t=0;t<a.length;t++){var o={},r=a[t].split("*");o[".title"]=r[0],o[".value"]=r[1],n.array.push(o)}console.log(n.array)}else n.showDescPoints=!1}),o.get(l+"/products/"+r.prodid+"/reviews?pageNumber=1&pageSize=5").then(function(e){console.log(e),n.prod=e.data.reviewList,n.totalCount=e.data.paginationData.totalCount,n.averagereview=e.data.avgReview,console.log(n.averagereview),n.userRatings=e.data.reviewList,console.log(n.userRatings),n.totalreview=e.data.totalratingCount,n.uptotalCount=e.data.paginationData.totalCount,n.ratings=[{number:n.averagereview}]}),n.page=1,n.PagingAct=function(e,a,t){o.get(l+"/products/"+r.prodid+"/reviews?pageNumber="+e+"&pageSize=5").then(function(e){console.log(e),n.prod=e.data.reviewList,n.totalCount=e.data.paginationData.totalCount,n.averagereview=e.data.avgReview,console.log(n.averagereview),n.userRatings=e.data.reviewList,console.log(n.userRatings),n.totalreview=e.data.totalratingCount,n.ratings=[{number:n.averagereview}]})},n.getStars=function(e){return parseFloat(e)/5*100+"%"},0==n.userlogged?n.showReview=!1:(n.showReview=!0,n.onItemRating=function(e){n.starValue=e,console.log(n.starValue)},n.submitReview=function(a){n.isDisabled=!0;var e={userId:n.loggedInuserId,productId:r.prodid,rating:n.starValue,description:a.description,descriptionName:n.loggedInUserName};console.log(e),o.post(l+"/products/reviews/save",e).then(function(e){console.log(e),n.isDisabled=!1,o.get(l+"/products/"+r.prodid+"/reviews").then(function(e){console.log(e),n.prod=e.data,n.averagereview=e.data.avgReview,console.log(n.averagereview),n.userRatings=e.data.reviewList,console.log(n.reviewrate),n.totalreview=e.data.totalRatingCount,n.ratings=[{number:n.averagereview}]}),1==e.data.status?(n.successMsg=e.data.message,$(".successPopup").modal("show")):(n.failureMsg=e.data.message,$(".errorPopup").modal("show")),n.firstRate=0,n.secondRate=0,n.readOnly=!0,a.description=""})}),n.vendorimg=!1,n.normalimg=!0,null!=localStorage.loggedInUser?o.get(l+"/pincodeWiseVendors/"+r.prodid+"?userId="+localStorage.loggedInuserId).then(function(e){n.normalimg=!0,n.vendorimg=!1,console.log(e),null==e.data.vendorsDataForProduct?n.imgshow=!1:n.imgshow=!0,n.pagep=e.data.vendorsDataForProduct,null==e.data.vendorsDataForProduct&&(n.err=!0,n.msg=!1,n.successmsg=e.data.status,console.log(n.successmsg)),console.log(n.pagep),n.productpageLoaded=!0,n.productvendorLoaded=!1,e.data.vendorsDataForProduct.length<10?n.slickproductpageConfig={slidesToShow:5,slidesToScroll:1,prevNext:!0,arrows:!1,dots:!0,autoplay:!0,autoplaySpeed:1e4,speed:500,slidesPerRow:5,rows:2}:n.slickproductpageConfig={dots:!0,arrows:!1,autoplay:!0,slidesToScroll:1,autoplaySpeed:1e4,speed:500,slidesPerRow:5,rows:2,responsive:[{breakpoint:767,settings:{slidesPerRow:1,rows:1}}]}}):(n.msg=!0,n.err=!1,n.msg="Please login to view vendor(s) in your location (or) search for vendor(s) using Pincode...",console.log(n.msg)),n.updateSelection=function(t,e,a){if(console.log(a.userId),n.vendorIdValue=a.vendorId,console.log(n.vendorIdValue),$(".vendorCheck").is(":checked"))$("#del_event").removeAttr("disabled");else $("#del_event").attr("disabled","disabled");angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)})},n.addcart=function(e){if(0==n.userlogged)console.log(n.userlogged),console.log("Not Logged"),t.path("/login");else{t.path("/cart");var a={productId:r.prodid,quantity:e,vendorId:n.vendorIdValue};console.log(a),o.post(l+"/cart/addShoppingCartItem?userId="+localStorage.loggedInuserId,a).then(function(e){console.log(e),n.cartvalue=e.data.cartQuantity,console.log(n.cartvalue),o.get(l+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),n.cartlist=e.data,n.lengthofcart=e.data.shoppingCartItems.length,console.log(n.lengthofcart)})})}},o.get(l+"/getRecommendedProduct").then(function(e){console.log(e),n.recommend=e.data.recommendedProducts,n.RecomendLoaded=!0,n.slickrecommendedprocutsConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500}}),o.get(l+"/getRecentBought").then(function(e){console.log(e),n.recently=e.data.recentlyBought,n.RecentlyLoaded=!0,n.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),localStorage.loggedInuserId,o.get(l+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),n.cartlist=e.data,console.log(n.cartlist),null==e.data.shoppingCartItems?n.lengthofcart=0:n.lengthofcart=e.data.shoppingCartItems.length}),n.vendorPopInfo=function(e){n.vendorDetails={imagePath:e.vendorImageURL,address:e.vendorOfficeAddress,name:e.vendorName,mobileNum:e.vendorMobile,teleNum:e.vendorTelephone,email:e.email,firmInfo:e.vendorConstFirm}},n.getpincode=function(e){n.normalimg=!1,n.vendorimg=!0,o.get(l+"/seachPincodeWiseVendors/"+r.prodid+"?postalCode="+e).then(function(e){console.log(e),n.pageps=e.data.vendorsDataForProduct,null==e.data.vendorsDataForProduct?(n.err=!0,n.imgshow=!1,n.msg=!1,n.successmsg=e.data.status):(n.err=!1,n.imgshow=!0,n.msg=!1,n.productvendorLoaded=!0,n.productpageLoaded=!1,e.data.vendorsDataForProduct.length<5?n.slickvendorConfig={slidesToShow:5,slidesToScroll:1,prevNext:!0,arrows:!1,dots:!0,autoplay:!0,autoplaySpeed:1e4,speed:500,slidesPerRow:5,rows:2}:n.slickvendorConfig={dots:!0,arrows:!1,autoplay:!0,slidesToScroll:1,autoplaySpeed:1e4,speed:500,slidesPerRow:5,rows:2,responsive:[{breakpoint:767,settings:{slidesPerRow:1,rows:1}}]}),n.postalCode="",console.log(n.pagep)})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}),angular.module("newapp").controller("ProductlistCtrl",["$scope","$http","$routeParams","$location","$window","resturl",function(l,s,n,o,r,g){l.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],l.dropshow=!1,l.dropdownhide=!0,null!=localStorage.loggedInUser?(l.loggedInUser=localStorage.loggedInUser,l.loggedInUserName=localStorage.loggedInUserName,l.loggedInUserType=localStorage.loggedInUserType,l.loggedInuserId=localStorage.loggedInuserId,l.userlogged=!0,"5"==l.customertype&&(l.categorytype="Machinery & Equipment"),"VENDOR"==l.loggedInUserType&&"vendorcategories"==o.path().split("/")[1]?l.vendorproductadd=!0:l.vendorproductadd=!1,l.vendoradd=!0,l.vendorwishproductadd=!0,"vendorcategories"==o.path().split("/")[1]?s.get(g+"/vendor/"+l.loggedInuserId+"/categories/"+n.cid+"?pageNumber=1&pageSize=15").then(function(e){l.page=1,l.pagingincrement=!1,l.pagingnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.routedata=e,console.log(e),l.plist=e.data.responseData,"0"==e.data.responseData.length?(l.prodshow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.prodshow=!1,l.pagingnormal=!0,l.normalproduct=!0),l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize}):(l.vendoradd=!1,l.vendorwishproductadd=!1,l.vendorproductadd=!1)):l.userlogged=!1,l.logout=function(){localStorage.clear(),o.path("/login")},l.myProfile=function(){o.path("/myaccount")},l.categorytype=n.cid.replace(/_/g," "),""==n.sid||null==n.sid||(l.subcategorytype=n.sid.replace(/_/g," ")),l.subcattype=!0,s.get(g+"/getAllCategories").then(function(e){l.menuitem=e.data.categoryData;var a=e.data.categoryData.findIndex(function(e,a){return e.title===l.categorytype});l.categorySub=l.menuitem[a].subCategory;var t=l.categorySub.findIndex(function(e,a){return e.title===l.subcategorytype});""==n.sid||null==n.sid?(l.categorySub[0].checked=!0,l.routeurl=l.categorySub[0].url,l.subcategorytype=l.categorySub[0].title):(l.categorySub[t].checked=!0,l.routeurl=l.categorySub[t].url),console.log(l.routeurl),"vendorcategories"==o.path().split("/")[1]?s.get(g+"/vendor/"+l.loggedInuserId+"/categories/"+n.cid+"?pageNumber=1&pageSize=15").then(function(e){l.page=1,l.pagingincrement=!1,l.pagingnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.routedata=e,console.log(e),l.plist=e.data.responseData,"0"==e.data.responseData.length?(l.prodshow=!0,l.pagingnormal=!1):(l.prodshow=!1,l.pagingnormal=!0),l.totalCount=e.data.paginationData.totalCount,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount)}):s.get(g+"/"+l.routeurl+"?pageNumber=1&pageSize=15").then(function(e){l.page=1,l.pagingincrement=!1,l.pagingnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.routedata=e,console.log(e),l.plist=e.data.responseData,"0"==e.data.responseData.length?(l.prodshow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.prodshow=!1,l.pagingnormal=!0,l.normalproduct=!0),l.totalCount=e.data.paginationData.totalCount,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),l.maxProductPrice=e.data.maxProductPrice,console.log(l.maxProductPrice);var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(l.showTag=a[i],l[l.showTag]=!1):(l.showTag=a[i],l[l.showTag]=!0)}),d(l.routeurl)}),l.constitutionchange=function(e){l.filtershow=!1,l.page=1,console.log(e),l.desc=e,console.log(l.desc),""==l.desc&&(l.desc=15),"vendorcategories"==o.path().split("/")[1]?s.get(g+"/vendor/"+l.loggedInuserId+"/"+l.routeurl+"?pageNumber=1&pageSize="+l.desc).then(function(e){l.dropshow=!0,l.normalproduct=!0,l.dropdownhide=!1,l.pagingincrement=!1,l.pagingnormal=!0,l.routedata=e,console.log(e),l.plist=e.data.responseData,"0"==e.data.responseData.length?(l.prodshow=!0,l.pagingnormal=!1):(l.prodshow=!1,l.pagingnormal=!0),l.totalCount=e.data.paginationData.totalCount,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount)}):s.get(g+"/"+l.routeurl+"?pageNumber=1&pageSize="+l.desc).then(function(e){l.dropshow=!0,l.normalproduct=!0,l.dropdownhide=!1,l.pagingincrement=!1,l.pagingnormal=!0,l.routedata=e,console.log(e),l.plist=e.data.responseData,"0"==e.data.responseData.length?(l.prodshow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.prodshow=!1,l.pagingnormal=!0,l.normalproduct=!0),l.totalCount=e.data.paginationData.totalCount,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),l.maxProductPrice=e.data.maxProductPrice,console.log(l.maxProductPrice);var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(l.showTag=a[i],l[l.showTag]=!1):(l.showTag=a[i],l[l.showTag]=!0)}),"vendorcategories"==o.path().split("/")[1]?(l.page="1",l.PagingAct=function(e,a,t){s.get(g+"/vendor/"+l.loggedInuserId+"/"+l.routeurl+"?pageNumber="+e+"&pageSize="+l.desc).then(function(e){l.dropshow=!0,l.normalproduct=!0,l.dropdownhide=!1,l.pagingincrement=!0,l.pagingnormal=!1,l.routedata=e,console.log(e),l.plist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.totalCount<l.currentdropPage&&(l.currentdropPage=l.totalCount)})}):(l.page=1,l.PagingAct=function(e,a,t){l.pagingincrement=!0,l.normalproduct=!0,l.pagingnormal=!1,l.dropshow=!0,l.dropdownhide=!1,s.get(g+"/"+l.routeurl+"?pageNumber="+e+"&pageSize="+l.desc).then(function(e){r.scrollTo(0,0),l.plist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount),console.log(l.pagedropSize),console.log(l.currentdropPage),"0"==e.data.responseData.length?(l.prodshow=!0,l.normalproduct=!1):(l.prodshow=!1,l.normalproduct=!0);var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(l.showTag=a[i],l[l.showTag]=!1):(l.showTag=a[i],l[l.showTag]=!0)})})},"vendorcategories"==o.path().split("/")[1]?(l.page=1,l.PagingAct=function(e,a,t){s.get(g+"/vendor/"+l.loggedInuserId+"/"+l.routeurl+"?pageNumber="+e+"&pageSize=15").then(function(e){l.pagingincrement=!0,l.normalproduct=!0,l.pagingnormal=!1,l.dropdownhide=!0,l.dropshow=!1,l.routedata=e,console.log(e),l.plist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount)})}):(l.page=1,l.PagingAct=function(e,a,t){s.get(g+"/"+l.routeurl+"?pageNumber="+e+"&pageSize=15").then(function(e){l.pagingincrement=!0,l.normalproduct=!0,l.pagingnormal=!1,l.dropdownhide=!0,l.dropshow=!1,r.scrollTo(0,0),l.plist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount),"0"==e.data.responseData.length?l.prodshow=!0:l.prodshow=!1;var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(l.showTag=a[i],l[l.showTag]=!1):(l.showTag=a[i],l[l.showTag]=!0)})}),l.fil=function(a){angular.forEach(l.categorySub,function(e){e.checked=!1,l.subcategorytype=a.title}),a.checked=!0,l.subcattype=!0,l.routeurl=a.url,d(l.routeurl),"3"==n.cid?(l.arc=!0,l.list=!1,l.Novels=!1,l.loc=!0,l.mechinory=!1,l.wal=!1):"4"==n.cid?(l.arc=!1,l.list=!1,l.Novels=!1,l.loc=!0,l.mechinory=!1,l.wal=!0):("5"==n.cid?(l.arc=!1,l.list=!1,l.Novels=!1,l.loc=!0,l.mechinory=!0):(l.list=!0,l.Novels=!0,l.loc=!1,l.arc=!1,l.mechinory=!1),l.wal=!1),"vendorcategories"==o.path().split("/")[1]?s.get(g+"/vendor/"+l.loggedInuserId+"/"+l.routeurl+"?pageNumber=1&pageSize=15").then(function(e){l.routedata=e,console.log(e),l.plist=e.data.responseData,"0"==e.data.responseData.length?(l.prodshow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.prodshow=!1,l.pagingnormal=!0,l.normalproduct=!0),l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount)}):(o.path("/sub_category/"+l.categorytype+l.routeurl),"Architects"!=n.catid&&s.get(g+"/"+l.routeurl+"?pageNumber=1&pageSize=15").then(function(e){l.routedata=e,l.plist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount),"0"==e.data.responseData.length?(l.prodshow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.prodshow=!1,l.pagingnormal=!0,l.normalproduct=!0);var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(l.showTag=a[i],l[l.showTag]=!1):(l.showTag=a[i],l[l.showTag]=!0)}))},l.vendoraddprod=function(){var e=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get(),a={vendorId:l.loggedInuserId,productId:e};s.post(g+"/addVendorProducts",a).then(function(e){console.log(e),"true"==e.data.status?(l.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(l.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide")),s.get(g+"/"+l.routeurl+"?pageNumber=1&pageSize=15").then(function(e){l.routedata=e,console.log(e),l.plist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.maxProductPrice=e.data.maxProductPrice})})};var c=[];function d(e){console.log(e.split("/")[2]);var a=e.split("/")[2];s.get(g+"/getFiltersByCategory/"+a).then(function(e){console.log(e),l.branditem=e.data.filters,l.selection=[],l.toggleSelection=function(e){var a=l.selection.indexOf(e);-1<a?l.selection.splice(a,1):l.selection.push(e)}})}l.filteritem=function(a,e){if(1==e?c.push(a):c=jQuery.grep(c,function(e){return e!==a}),console.log(c.length),0!=c.length){var t={filterIds:c};l.filterArr=t;var o={minPrice:l.minRangeSlider.minPrice,maxPrice:l.maxProductPrice,filterIds:c,categoryCode:l.subcategorytype,productRating:""};console.log(o),s.post(g+"/getProductsByFiltersAndPrice",o).then(function(e){null==e.data.paginationData&&(l.totalCount=0,l.plist=""),l.plist=e.data.filteredProducts,"0"==e.data.filteredProducts.length?(l.filtershow=!0,l.prodshow=!1,l.normalproduct=!1,l.pagingnormal=!1):(l.filtershow=!1,l.pagingnormal=!0,l.normalproduct=!0,l.prodshow=!1),l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount);var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(l.showTag=a[i],l[l.showTag]=!1):(l.showTag=a[i],l[l.showTag]=!0)})}else l.plist=l.routedata.data.responseData,l.totalCount=resp.$scope.routedata.paginationData.totalCount,l.pageSize=resp.data.paginationData.pageSize,l.currentPage=resp.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=resp.data.paginationData.currentPage,l.pageSize=resp.data.paginationData.pageSize,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount)},s.get(g+"/getRecommendedProduct").then(function(e){console.log(e),l.recommend=e.data.recommendedProducts,l.RecomendLoaded=!0,l.slickrecommendedprocutsConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:600}}),s.get(g+"/getRecentBought").then(function(e){console.log(e),l.recently=e.data.recentlyBought,l.RecentlyLoaded=!0,l.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),s.get(g+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),l.cartlist=e.data,console.log(l.cartlist),null==e.data.shoppingCartItems?l.lengthofcart=0:l.lengthofcart=e.data.shoppingCartItems.length}),l.lengthofcart=0,l.hide=!0,l.vendorselect=function(e){l.hide=!1,e.checked?l.hide=!1:l.hide=!0},l.vendoraddwish=function(){var e=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get(),a={vendorId:l.loggedInuserId,productId:e};s.post(g+"/addVendorWishListProducts",a).then(function(e){console.log(e),"true"==e.data.status?(l.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(l.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide")),s.get(g+"/"+l.routeurl+"?pageNumber=1&pageSize=15").then(function(e){l.routedata=e,console.log(e),l.plist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.maxProductPrice=e.data.maxProductPrice})})},myEndListener=function(){l.dropshow=!1,l.dropdownhide=!0,l.pagingincrement=!1,l.pagingnormal=!0,console.log(l.minRangeSlider.minPrice),console.log(l.minRangeSlider.maxPrice);var e={minPrice:l.minRangeSlider.minPrice,maxPrice:l.maxProductPrice,filterIds:c,categoryCode:l.subcategorytype,productRating:""};console.log(e),s.post(g+"/getProductsByFiltersAndPrice",e).then(function(e){l.plist=e.data.filteredProducts,null==e.data.paginationData&&(l.totalCount=0,l.plist=""),"0"==e.data.filteredProducts.length?(l.prodshow=!1,l.filtershow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.filtershow=!1,l.normalproduct=!0,l.pagingnormal=!0,l.prodshow=!1),l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),l.pagedropSize=l.pageSize*l.currentPage,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize}),l.page=1,l.PagingAct=function(e,a,t){var o={minPrice:l.minRangeSlider.minPrice,maxPrice:l.maxProductPrice,filterIds:c,categoryCode:l.subcategorytype,productRating:""};console.log(o),s.post(g+"/getProductsByFiltersAndPrice?pageNumber="+e+"&pageSize=15",o).then(function(e){l.plist=e.data.filteredProducts,null==e.data.paginationData&&(l.totalCount=0,l.plist=""),"0"==e.data.filteredProducts.length?(l.filtershow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.filtershow=!1,l.pagingnormal=!0,l.normalproduct=!0),l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),l.pagedropSize=l.pageSize*l.currentPage,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize})}},l.pricing=function(e){console.log(e.minPrice),console.log(e.maxPrice);var a,r=e.minPrice,n=e.maxPrice;n<r&&(a=n,n=r,r=a),console.log(r),console.log(n);var t={minPrice:r,maxPrice:n,filterIds:c,categoryCode:l.subcategorytype,productRating:""};console.log(t),s.post(g+"/getProductsByFiltersAndPrice?pageNumber=1&pageSize=15",t).then(function(e){"0"==e.data.filteredProducts.length?(l.filtershow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.filtershow=!1,l.pagingnormal=!0,l.normalproduct=!0),l.plist=e.data.filteredProducts,null==e.data.paginationData&&(l.totalCount=0,l.plist=""),l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),l.pagedropSize=l.pageSize*l.currentPage,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize}),e.minPrice="",e.maxPrice="",console.log(e.minPrice),console.log(e.maxPrice),l.page=1,l.PagingAct=function(e,a,t){var o={minPrice:r,maxPrice:n,filterIds:c,categoryCode:l.subcategorytype,productRating:""};console.log(o),s.post(g+"/getProductsByFiltersAndPrice?pageNumber="+e+"&pageSize=15",o).then(function(e){l.plist=e.data.filteredProducts,null==e.data.paginationData&&(l.totalCount=0,l.plist=""),"0"==e.data.filteredProducts.length?(l.filtershow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.filtershow=!1,l.pagingnormal=!0,l.normalproduct=!0),l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.totalCount<l.pageSize&&(l.pageSize=l.totalCount),l.pagedropSize=l.pageSize*l.currentPage,l.totalCount<l.pagedropSize&&(l.pagedropSize=l.totalCount),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize})}},l.minRangeSlider={minPrice:0,maxPrice:l.maxProductPrice,options:{floor:0,ceil:l.maxProductPrice,step:10,noSwitching:!0,hideLimitLabels:!0,onEnd:myEndListener}},l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){console.log(e);var a=e;l.rating=a,console.log(l.rating);var t={minPrice:l.minRangeSlider.minPrice,maxPrice:l.maxProductPrice,filterIds:c,categoryCode:l.subcategorytype,productRating:l.rating};console.log(t),s.post(g+"/getProductsByFiltersAndPrice",t).then(function(e){"0"==e.data.filteredProducts.length?(l.filtershow=!0,l.prodshow=!1,l.pagingnormal=!1,l.normalproduct=!1):(l.filtershow=!1,l.prodshow=!1,l.pagingnormal=!0,l.normalproduct=!0),l.plist=e.data.filteredProducts,null==e.data.paginationData&&(l.totalCount=0,l.plist=""),l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize})},l.resetSlider=function(){console.log(l.minRangeSlider.minPrice),console.log(l.maxProductPrice),console.log(l.rating),console.log(l.reportDates),15!=l.reportDates&&(l.reportDates=""),5!=l.vendorsdropdown&&(l.vendorsdropdown=""),0!=l.minRangeSlider.minPrice&&(l.minRangeSlider.minPrice=0),l.maxProductPrice!=l.maxProductPrice&&(l.maxProductPrice=""),0!=l.rating&&(l.rating=0),l.firstRate=0,l.secondRate=0,l.readOnly=!0,null!=l.searchStr&&(l.searchStr=""),"3"==n.cid&&(null!=n.sid?(l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.arcdropven=!0,l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!1,l.dropdownhide=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.locationshow=!1,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})):(l.payload={code:"Civil"},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.arc=!0,l.arcincrement=!1,l.arcdropven=!0,l.arcnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.searchloc=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.locationshow=!1,l.arclistshow=!0,l.pagingnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.pagingnormal=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)}))),"5"==n.cid&&(null!=n.sid?(l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.mechincrement=!1,l.mechdropven=!0,l.mechnormal=!0,l.dropshow=!1,l.dropdownhide=!0,console.log(e),l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.mechlistshow=!0,l.locationshow=!1,l.mechdropven=!1,l.mechnormal=!1):(l.mechlistshow=!1,l.locationshow=!1),l.mechCount=e.data.paginationData.totalCount})):(l.payload={code:"Slab Equipment"},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.mechincrement=!1,l.mechdropven=!0,l.mechnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.searchloc=!0,console.log(e),l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.mechlistshow=!0,l.locationshow=!1,l.mechdropven=!1,l.mechnormal=!1):(l.mechlistshow=!1,l.locationshow=!1,l.mechdropven=!0),l.mechCount=e.data.paginationData.totalCount}))),"Wall Paper"==n.cid&&(null!=n.sid?(l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.walincrement=!1,l.walnormal=!0,l.dropshow=!0,l.dropdownhide=!1,console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.locationshow=!1,l.walllistshow=!0,l.pagingnormal=!1):(l.walllistshow=!1,l.locationshow=!1),l.walCount=e.data.paginationData.totalCount})):(l.payload={code:"Wall Papers"},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.walincrement=!1,l.walnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.searchloc=!0,console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.locationshow=!1,l.walllistshow=!0,l.walnormal=!1,l.waldropven=!1):(l.walllistshow=!1,l.locationshow=!1),l.walCount=e.data.paginationData.totalCount}))),l.pageNumber="1",s.get(g+"/"+l.routeurl+"?pageNumber=1&pageSize=15").then(function(e){l.dropshow=!1,l.dropdownhide=!0,l.routedata=e,console.log(e),l.plist=e.data.responseData,l.currentPage=e.data.paginationData.currentPage,"0"==e.data.responseData.length?(l.prodshow=!0,l.filtershow=!0,l.pagingnormal=!1,l.normalproduct=!1):(l.prodshow=!1,l.filtershow=!1,l.normalproduct=!0),l.totalCount=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize-l.pageSize,l.maxProductPrice=e.data.maxProductPrice}),r.location.reload(),console.log(l.minRangeSlider.minPrice),console.log(l.minRangeSlider.maxPrice),console.log(l.rating),console.log(l.searchStr)},"Machinery & Equipment"==n.cid&&(l.categorytype="Machinery & Equipment",null!=n.sid&&(l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){console.log(e),l.mechincrement=!1,l.mechnormal=!0,l.mechdropven=!0,l.dropshow=!1,l.dropdownhide=!0,l.mechinory=!0,l.Novels=!1,l.meccat=!0,l.list=!1,l.searchloc=!0,l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.mechlistshow=!0,l.locationshow=!1,l.mechdropven=!1,l.mechnormal=!1):(l.mechlistshow=!1,l.locationshow=!1),l.mechCount=e.data.paginationData.totalCount,l.mechsize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.mechsize*l.currentPage,l.mechCount<l.mechsize&&(l.mechsize=l.mechCount),2==l.currentPage?l.currentdropPage=l.mechsize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.mechCount<l.pagedropSize&&(l.pagedropSize=l.mechCount),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.page=1,l.MechAct=function(e,a,t){l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize=5",l.payload).then(function(e){console.log(e),l.mechincrement=!0,l.mechnormal=!1,l.dropshow=!1,l.dropdownhide=!0,l.mechinory=!0,l.Novels=!1,l.list=!1,l.meccat=!0,l.searchloc=!0,l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},l.mechCount=e.data.paginationData.totalCount,l.mechsize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.mechsize*l.currentPage,l.mechCount<l.mechsize&&(l.mechsize=l.mechCount),2==l.currentPage?l.currentdropPage=l.mechsize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.mechCount<l.pagedropSize&&(l.pagedropSize=l.mechCount),console.log(l.pagedropSize),console.log(l.currentdropPage)})}),l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){var a=e;l.rating=a,console.log(l.rating),null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"5"}:l.vendorRating={rating:e,searchtype:l.categorySub[0].title,vendorType:"5"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.mechlistshow=!0,l.locationshow=!1,l.pagingnormal=!1):(l.mechlistshow=!1,l.locationshow=!1,l.pagingnormal=!0),l.mechCount=e.data.paginationData.totalCount})},l.searchVendor=function(o){console.log(o),l.searchString=o,null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"5"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.mechincrement=!1,l.mechnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.mechlistshow=!1,l.locationshow=!0,l.mechdropven=!1,l.mechnormal=!1):(l.mechlistshow=!1,l.locationshow=!1),l.mechCount=e.data.paginationData.totalCount}),l.page=1,l.MechAct=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"5"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.mechlistshow=!1,l.locationshow=!0,l.pagingnormal=!1):(l.mechlistshow=!1,l.locationshow=!1,l.pagingnormal=!0),l.mechCount=e.data.paginationData.totalCount})}}),"Wall Paper"==n.cid&&(l.categorytype="Wall Paper",null!=n.sid&&(l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.walincrement=!1,l.walnormal=!0,l.waldropven=!0,l.dropshow=!1,l.dropdownhide=!0,l.wal=!0,l.Novels=!1,l.list=!1,l.walcat=!0,l.searchloc=!0,console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.walllistshow=!0,l.locationshow=!1,l.waldropven=!0,l.walnormal=!1):(l.walllistshow=!1,l.locationshow=!1),l.walCount=e.data.paginationData.totalCount,l.walSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.walSize*l.currentPage,l.walCount<l.walSize&&(l.walSize=l.walCount),2==l.currentPage?l.currentdropPage=l.walSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.walCount<l.pagedropSize&&(l.pagedropSize=l.walCount),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.page=1,l.walAct=function(e,a,t){l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.walincrement=!0,l.walnormal=!1,l.dropshow=!1,l.dropdownhide=!0,l.wal=!0,l.Novels=!1,l.list=!1,l.walcat=!0,l.searchloc=!0,console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},l.walCount=e.data.paginationData.totalCount,l.walSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.walSize*l.currentPage,l.walCount<l.walSize&&(l.walSize=l.walCount),2==l.currentPage?l.currentdropPage=l.walSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.walCount<l.pagedropSize&&(l.pagedropSize=l.walCount),console.log(l.pagedropSize),console.log(l.currentdropPage)})}),l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){var a=e;l.rating=a,console.log(l.rating),null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"4"}:l.vendorRating={rating:e,searchSubCategory:l.categorySub[0].title,vendorType:"4"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.walllistshow=!0,l.locationshow=!1,l.walnormal=!1):(l.walllistshow=!1,l.locationshow=!1,l.walnormal=!0),l.walCount=e.data.paginationData.totalCount})},l.searchVendor=function(o){console.log(o),l.searchString=o,null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"4"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.walllistshow=!1,l.waldropven=!1,l.locationshow=!0,l.walnormal=!1):(l.walllistshow=!1,l.locationshow=!1,l.walnormal=!0),l.walCount=e.data.paginationData.totalCount}),l.page=1,l.PagingAct=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"4"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.walllistshow=!1,l.locationshow=!0,l.pagingnormal=!1):(l.walllistshow=!1,l.locationshow=!1,l.pagingnormal=!0),l.walCount=e.data.paginationData.totalCount})}}),"3"==n.cid&&(l.arc=!0,l.arccat=!0,l.Novels=!1,l.list=!1,l.searchloc=!0,l.categorytype="Architects",l.categorySub=n.subid,null!=n.sid&&(l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.arc=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.locationshow=!1,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})),l.page=1,l.arcPagingAct=function(e,a,t){l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize=5",l.payload).then(function(e){l.arcincrement=!0,l.arcnormal=!1,l.dropshow=!1,l.dropdownhide=!0,l.arc=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})},l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){var a=e;l.rating=a,console.log(l.rating),null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"3"}:l.vendorRating={rating:e,searchtype:l.categorySub[0].title,vendorType:"3"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.pagingincrement=!1,l.pagingnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.locationshow=!1,l.pagingnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.pagingnormal=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})},l.searchVendor=function(o){console.log(o),l.searchString=o,null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"3"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!1,l.locationshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.page=1,l.arcPagingAct=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"3"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",l.searchRequest).then(function(e){l.arcincrement=!0,l.arcnormal=!1,l.dropshow=!1,l.dropdownhide=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},l.Count=e.data.paginationData.totalCount,"0"==e.data.responseData.length?(l.arclistshow=!0,l.locationshow=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1),l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})}}),"3"==n.cid?"3"==n.cid&&"vendortypes"==o.path().split("/")[1]?(l.arc=!0,l.arccat=!0,l.list=!1,l.customertype=n.cid,console.log(l.subcategorytype),l.payload={code:"Civil"},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.arc=!0,l.searchloc=!0,console.log(e),l.arclist=e.data.responseData,console.log(l.arclist),"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.locationshow=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.getStars=function(e){return parseFloat(e)/5*100+"%"},l.page=1,l.arcPagingAct=function(e,a,t){l.payload={code:"Civil"},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize=5",l.payload).then(function(e){l.arcincrement=!0,l.arcnormal=!1,l.dropshow=!1,l.dropdownhide=!0,l.arc=!0,l.searchloc=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})},l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){var a=e;l.rating=a,console.log(l.rating),null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"3"}:l.vendorRating={rating:e,searchSubCategory:l.categorySub[0].title,vendorType:"3"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.locationshow=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0,l.locationshow=!1),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})},l.searchVendor=function(o){console.log(o),l.searchString=o,null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"3"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!1,l.locationshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.page=1,l.arcPagingAct=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"3"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",l.searchRequest).then(function(e){l.arcincrement=!0,l.arcnormal=!1,l.dropshow=!1,l.dropdownhide=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})}}):(l.list=!1,l.arc=!1,l.wal=!1):"5"==n.cid&&"vendortypes"==o.path().split("/")[1]?(l.payload={code:"Slab Equipment"},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){l.mechincrement=!1,l.mechnormal=!0,l.mechdropven=!0,l.dropshow=!1,l.dropdownhide=!0,l.mechinory=!0,l.meccat=!0,l.Novels=!1,l.searchloc=!0,console.log(e),l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount,l.mechsize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.mechsize*l.currentPage,l.mechCount<l.mechsize&&(l.mechsize=l.mechCount),2==l.currentPage?l.currentdropPage=l.mechsize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,console.log(l.pagedropSize),console.log(l.currentdropPage),l.getStars=function(e){return parseFloat(e)/5*100+"%"}}),l.page=1,l.MechAct=function(e,a,t){l.payload={code:"Slab Equipment"},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize=5",l.payload).then(function(e){l.mechincrement=!0,l.mechnormal=!1,l.dropshow=!1,l.dropdownhide=!0,l.mechinory=!0,l.searchloc=!0,console.log(e),l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount,l.mechCount=e.data.paginationData.totalCount,l.mechsize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.mechsize*l.currentPage,l.mechCount<l.mechsize&&(l.mechsize=l.mechCount),2==l.currentPage?l.currentdropPage=l.mechsize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.mechsize,l.mechCount<l.pagedropSize&&(l.pagedropSize=l.mechCount),console.log(l.pagedropSize),console.log(l.currentdropPage),l.getStars=function(e){return parseFloat(e)/5*100+"%"}})},l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"5"}:l.vendorRating={rating:e,searchtype:l.categorySub[0].title,vendorType:"5"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating?pageNumber=1&pageSize=5",l.vendorRating).then(function(e){l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount,l.getStars=function(e){return parseFloat(e)/5*100+"%"}})},l.searchVendor=function(r){console.log(r),l.searchString=r,null!=n.catid?l.searchRequest={searchString:r,searchSubCategory:n.sid,customerType:"5"}:l.searchRequest={searchString:r,searchSubCategory:l.categorySub[0].title,customerType:"5"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount,"0"==e.data.responseData.length?(l.mechlistshow=!1,l.locationshow=!0,l.mechnormal=!1):(l.mechlistshow=!1,l.locationshow=!1,l.mechnormal=!0),l.getStars=function(e){return parseFloat(e)/5*100+"%"}}),l.page=1,l.MechAct=function(e,a,t){var o={searchString:r,customerType:"5"};s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",o).then(function(e){console.log(e),l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount})}},l.mechinory=!0,l.arc=!1,l.meccat=!0,l.wal=!1,l.loc=!0,l.Novels=!1,l.list=!1,l.categorytype="Machinery & Equipment",console.log(l.categorytype)):"4"==n.cid&&"vendortypes"==o.path().split("/")[1]?("4"==n.cid&&(l.categorytype="Wall Paper"),l.payload={code:"Wall papers"},s.post(g+"/getVendorsList?pageNumber=1&pageSize=5",l.payload).then(function(e){console.log(e),l.walincrement=!1,l.walnormal=!0,l.dropshow=!1,l.dropdownhide=!0,l.wal=!0,l.walcat=!0,l.arc=!1,l.searchloc=!0,l.wallist=e.data.responseData,"0"==e.data.responseData.length?(l.walllistshow=!0,l.locationshow=!1,l.mechnormal=!1):(l.walllistshow=!1,l.locationshow=!1,l.mechnormal=!0),l.walCount=e.data.paginationData.totalCount,l.walSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.walSize*l.currentPage,l.walSize=e.data.paginationData.pageSize,l.walCount<l.walSize&&(l.walSize=l.walCount),2==l.currentPage?l.currentdropPage=l.walSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.walCount<l.pagedropSize&&(l.pagedropSize=l.walCount),console.log(l.pagedropSize),console.log(l.currentdropPage),l.getStars=function(e){return parseFloat(e)/5*100+"%"}}),l.page=1,l.walAct=function(e,a,t){l.payload={code:"Wall Papers"},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize=5",l.payload).then(function(e){l.walincrement=!0,l.walnormal=!1,l.dropshow=!1,l.dropdownhide=!0,l.wal=!0,l.searchloc=!0,console.log(e),l.wallist=e.data.responseData,l.walCount=e.data.paginationData.totalCount,l.walSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.walSize*l.currentPage,l.walCount<l.walSize&&(l.walSize=l.walCount),2==l.currentPage?l.currentdropPage=l.walSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.walCount<l.pagedropSize&&(l.pagedropSize=l.walCount),console.log(l.pagedropSize),console.log(l.currentdropPage),l.getStars=function(e){return parseFloat(e)/5*100+"%"}})},l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"4"}:l.vendorRating={rating:e,searchtype:l.categorySub[0].title,vendorType:"4"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.wallist=e.data,l.wallist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.getStars=function(e){return parseFloat(e)/5*100+"%"}})},l.searchVendor=function(o){console.log(o),l.searchString=o,null!=n.catid?l.searchRequest={searchString:l.searchStr,searchSubCategory:n.sid,customerType:"4"}:l.searchRequest={searchString:l.searchStr,searchSubCategory:l.categorySub[0].title,customerType:"4"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.wallist=e.data.responseData,"0"==e.data.responseData.length?(l.walllistshow=!1,l.walnormal=!1,l.locationshow=!0):(l.walllistshow=!1,l.locationshow=!1,l.walnormal=!0),l.walCount=e.data.paginationData.totalCount,l.getStars=function(e){return parseFloat(e)/5*100+"%"}}),l.page=1,l.PagingAct=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.wallist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.getStars=function(e){return parseFloat(e)/5*100+"%"}})}},l.wal=!0,l.walcat=!0,l.mechinory=!1,l.Novels=!1,l.loc=!0,l.list=!1,l.customertype=n.cid,console.log(l.customertype)):(l.list=!0,l.wal=!1,l.loc=!1,l.walcat=!1,l.mechinory=!1,l.Novels=!0),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)}),l.vendorstypechange=function(e){l.filtershow=!1,l.page=1,console.log(e),l.vendordesc=e,console.log(l.vendordesc),""==l.vendordesc&&(l.vendordesc=5),"3"==n.cid?"3"==n.cid&&"vendortypes"==o.path().split("/")[1]?(l.arc=!0,l.arccat=!0,l.list=!1,l.customertype=n.cid,console.log(l.subcategorytype),l.payload={code:"Civil"},s.post(g+"/getVendorsList?pageNumber=1&pageSize="+l.vendordesc,l.payload).then(function(e){l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.arc=!0,l.searchloc=!0,console.log(e),l.arclist=e.data.responseData,console.log(l.arclist),"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.getStars=function(e){return parseFloat(e)/5*100+"%"},l.page=1,l.droparc=function(e,a,t){l.payload={code:"Civil"},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize="+l.vendordesc,l.payload).then(function(e){l.arcincrement=!0,l.arcnormal=!1,l.dropshow=!0,l.dropdownhide=!1,l.arc=!0,l.searchloc=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})},l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){var a=e;l.rating=a,console.log(l.rating),null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"3"}:l.vendorRating={rating:e,searchSubCategory:l.categorySub[0].title,vendorType:"3"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})},l.searchVendor=function(o){console.log(o),null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"3"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize="+l.vendordesc,l.searchRequest).then(function(e){console.log(e),l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!1,l.locationshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.page=1,l.droparc=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"3"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+l.vendordesc,l.searchRequest).then(function(e){l.arcincrement=!0,l.arcnormal=!1,l.dropshow=!0,l.dropdownhide=!1,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!1,l.locationshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.pagedropSize=l.pageSize*l.currentPage,l.currentPage=e.data.paginationData.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})}}):(l.list=!1,l.arc=!1,l.wal=!1):"5"==n.cid&&"vendortypes"==o.path().split("/")[1]?(l.payload={code:"Slab Equipment"},s.post(g+"/getVendorsList?pageNumber=1&pageSize="+l.vendordesc,l.payload).then(function(e){l.mechincrement=!1,l.mechnormal=!0,l.mechdropven=!0,l.dropshow=!0,l.dropdownhide=!1,l.mechinory=!0,l.meccat=!0,l.Novels=!1,l.searchloc=!0,console.log(e),l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount,l.mechsize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.mechsize*l.currentPage,l.mechCount<l.mechsize&&(l.mechsize=l.mechCount),2==l.currentPage?l.currentdropPage=l.mechsize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,console.log(l.pagedropSize),console.log(l.currentdropPage),l.getStars=function(e){return parseFloat(e)/5*100+"%"}}),l.page=1,l.MechAct=function(e,a,t){l.payload={code:"Slab Equipment"},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize="+l.vendordesc,l.payload).then(function(e){l.mechincrement=!0,l.mechnormal=!1,l.dropshow=!0,l.dropdownhide=!1,l.mechinory=!0,l.searchloc=!0,console.log(e),l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount,l.mechsize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.mechsize*l.currentPage,l.mechCount<l.mechsize&&(l.mechsize=l.mechCount),2==l.currentPage?l.currentdropPage=l.mechsize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.mechCount<l.pagedropSize&&(l.pagedropSize=l.mechCount),console.log(l.pagedropSize),console.log(l.currentdropPage),l.getStars=function(e){return parseFloat(e)/5*100+"%"}})},l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"5"}:l.vendorRating={rating:e,searchtype:l.categorySub[0].title,vendorType:"5"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating?pageNumber=1&pageSize="+l.vendordesc,l.vendorRating).then(function(e){l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount,l.getStars=function(e){return parseFloat(e)/5*100+"%"}})},l.searchVendor=function(o){console.log(o),n.catid,l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize="+l.vendordesc,l.searchRequest).then(function(e){console.log(e),l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount,l.getStars=function(e){return parseFloat(e)/5*100+"%"}}),l.page=1,l.MechAct=function(e,a,t){l.searchRequest={searchString:o,customerType:"5"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+l.vendordesc,l.searchRequest).then(function(e){console.log(e),l.mechlist=e.data.responseData,l.mechCount=e.data.paginationData.totalCount})}},l.mechinory=!0,l.arc=!1,l.meccat=!0,l.wal=!1,l.loc=!0,l.Novels=!1,l.list=!1,l.categorytype="Machinery & Equipment",console.log(l.categorytype)):"4"==n.cid&&"vendortypes"==o.path().split("/")[1]?("4"==n.cid&&(l.categorytype="Wall Paper"),l.payload={code:"Wall Papers"},s.post(g+"/getVendorsList?pageNumber=1&pageSize="+l.vendordesc,l.payload).then(function(e){console.log(e),l.walincrement=!1,l.walnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.wal=!0,l.walcat=!0,l.arc=!1,l.searchloc=!0,l.wallist=e.data.responseData,l.walCount=e.data.paginationData.totalCount,l.walSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.walSize*l.currentPage,l.walSize=e.data.paginationData.pageSize,l.walCount<l.walSize&&(l.walSize=l.walCount),2==l.currentPage?l.currentdropPage=l.walSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.walCount<l.pagedropSize&&(l.pagedropSize=l.walCount),console.log(l.pagedropSize),console.log(l.currentdropPage),l.getStars=function(e){return parseFloat(e)/5*100+"%"}}),l.page=1,l.walAct=function(e,a,t){l.payload={code:"Wall Papers"},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize="+l.vendordesc,l.payload).then(function(e){l.walincrement=!0,l.walnormal=!1,l.dropshow=!0,l.dropdownhide=!1,l.wal=!0,l.searchloc=!0,console.log(e),l.wallist=e.data.responseData,l.walCount=e.data.paginationData.totalCount,l.walSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.walSize*l.currentPage,l.walCount<l.walSize&&(l.walSize=l.walCount),2==l.currentPage?l.currentdropPage=l.walSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.walCount<l.pagedropSize&&(l.pagedropSize=l.walCount),console.log(l.pagedropSize),console.log(l.currentdropPage),l.getStars=function(e){return parseFloat(e)/5*100+"%"}})},l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"4"}:l.vendorRating={rating:e,searchtype:l.categorySub[0].title,vendorType:"4"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.wallist=e.data,l.wallist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.getStars=function(e){return parseFloat(e)/5*100+"%"}})},l.searchVendor=function(o){console.log(o),l.searchStr=o,n.catid,l.searchRequest={searchString:l.searchStr,searchSubCategory:n.sid,customerType:"4"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize="+l.vendordesc,l.searchRequest).then(function(e){console.log(e),l.wallist=e.data.responseData,l.searchStr="",l.totalCount=e.data.paginationData.totalCount,l.getStars=function(e){return parseFloat(e)/5*100+"%"}}),l.page=1,l.PagingAct=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+l.vendordesc,l.searchRequest).then(function(e){console.log(e),l.wallist=e.data.responseData,l.totalCount=e.data.paginationData.totalCount,l.getStars=function(e){return parseFloat(e)/5*100+"%"}})}},l.wal=!0,l.walcat=!0,l.mechinory=!1,l.Novels=!1,l.loc=!0,l.list=!1,l.customertype=n.cid,console.log(l.customertype)):(l.list=!0,l.wal=!1,l.loc=!1,l.walcat=!1,l.mechinory=!1,l.Novels=!0),"Wall Paper"==n.cid&&(l.categorytype="Wall Paper",null!=n.sid&&(l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize="+l.vendordesc,l.payload).then(function(e){l.walincrement=!1,l.walnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.wal=!0,l.Novels=!1,l.list=!1,l.walcat=!0,l.searchloc=!0,console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?l.walllistshow=!0:l.walllistshow=!1,l.walCount=e.data.paginationData.totalCount,l.walSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.walSize*l.currentPage,l.walCount<l.walSize&&(l.walSize=l.walCount),2==l.currentPage?l.currentdropPage=l.walSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.walCount<l.pagedropSize&&(l.pagedropSize=l.walCount),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.page=1,l.walAct=function(e,a,t){l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize="+l.vendordesc,l.payload).then(function(e){l.walincrement=!0,l.walnormal=!1,l.dropshow=!0,l.dropdownhide=!1,l.wal=!0,l.Novels=!1,l.list=!1,l.walcat=!0,l.searchloc=!0,console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},l.walCount=e.data.paginationData.totalCount,l.walSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.walSize*l.currentPage,l.walCount<l.walSize&&(l.walSize=l.walCount),2==l.currentPage?l.currentdropPage=l.walSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.walCount<l.pagedropSize&&(l.pagedropSize=l.walCount),console.log(l.pagedropSize),console.log(l.currentdropPage)})}),l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){var a=e;l.rating=a,console.log(l.rating),null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"4"}:l.vendorRating={rating:e,searchSubCategory:l.categorySub[0].title,vendorType:"4"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?l.walllistshow=!0:l.walllistshow=!1,l.walCount=e.data.paginationData.totalCount})},l.searchVendor=function(o){console.log(o),null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"4"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize="+l.vendordesc,l.searchRequest).then(function(e){console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?l.walllistshow=!0:l.walllistshow=!1,l.walCount=e.data.paginationData.totalCount}),l.page=1,l.walAct=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"4"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+l.vendordesc,l.searchRequest).then(function(e){console.log(e),l.wallist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?l.walllistshow=!0:l.walllistshow=!1,l.walCount=e.data.paginationData.totalCount})}}),"3"==n.cid&&(l.arc=!0,l.arccat=!0,l.Novels=!1,l.list=!1,l.searchloc=!0,l.categorytype="Architects",null!=n.sid&&(l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize="+l.vendordesc,l.payload).then(function(e){l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.arc=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.page=1,l.droparc=function(e,a,t){l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize="+l.vendordesc,payload).then(function(e){l.arcincrement=!0,l.dropshow=!0,l.arcnormal=!1,l.dropdownhide=!1,l.arc=!0,console.log(e),l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})}),l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){var a=e;l.rating=a,console.log(l.rating),null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"3"}:l.vendorRating={rating:e,searchtype:l.categorySub[0].title,vendorType:"3"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})},l.searchVendor=function(o){console.log(o),l.searchString=o,null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"3"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.arcincrement=!1,l.arcnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.arclist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(l.arclistshow=!1,l.locationshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.arcdropven=!0),l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.page=1,l.droparc=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"3"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+l.vendordesc,l.searchRequest).then(function(e){console.log(e),l.arcincrement=!0,l.arcnormal=!1,l.dropshow=!0,l.dropdownhide=!1,l.arclist=e.data.responseData,"0"==e.data.responseData.length?(l.arclistshow=!1,l.locationshow=!0,l.arcdropven=!1,l.arcnormal=!1):(l.arclistshow=!1,l.locationshow=!1,l.arcdropven=!0),l.getStars=function(e){return parseFloat(e)/5*100+"%"},l.Count=e.data.paginationData.totalCount,l.pageSize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.pageSize*l.currentPage,l.pageSize=e.data.paginationData.pageSize,l.Count<l.pageSize&&(l.pageSize=l.Count),2==l.currentPage?l.currentdropPage=l.pageSize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.Count<l.pagedropSize&&(l.pagedropSize=l.Count),console.log(l.pagedropSize),console.log(l.currentdropPage)})}}),"Machinery & Equipment"==n.cid&&(l.categorytype="Machinery & Equipment",null!=n.sid&&(l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber=1&pageSize="+l.vendordesc,l.payload).then(function(e){console.log(e),l.mechincrement=!1,l.mechnormal=!0,l.dropshow=!0,l.dropdownhide=!1,l.mechinory=!0,l.Novels=!1,l.meccat=!0,l.list=!1,l.searchloc=!0,l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?l.mechlistshow=!0:l.mechlistshow=!1,l.mechCount=e.data.paginationData.totalCount,l.mechsize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.mechsize*l.currentPage,l.mechCount<l.mechsize&&(l.mechsize=l.mechCount),2==l.currentPage?l.currentdropPage=l.mechsize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.mechCount<l.pagedropSize&&(l.pagedropSize=l.mechCount),console.log(l.pagedropSize),console.log(l.currentdropPage)}),l.page=1,l.MechAct=function(e,a,t){l.payload={code:n.sid},s.post(g+"/getVendorsList?pageNumber="+e+"&pageSize=="+l.vendordesc,l.payload).then(function(e){console.log(e),l.mechincrement=!0,l.mechnormal=!1,l.dropshow=!0,l.dropdownhide=!1,l.mechinory=!0,l.Novels=!1,l.list=!1,l.meccat=!0,l.searchloc=!0,l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},l.mechCount=e.data.paginationData.totalCount,l.mechsize=e.data.paginationData.pageSize,l.currentPage=e.data.paginationData.currentPage,l.pagedropSize=l.mechsize*l.currentPage,l.mechCount<l.mechsize&&(l.mechsize=l.mechCount),2==l.currentPage?l.currentdropPage=l.mechsize+1:1==l.currentPage?l.currentdropPage=l.currentPage:l.currentdropPage=l.pagedropSize+1-l.pageSize,l.mechCount<l.pagedropSize&&(l.pagedropSize=l.mechCount),console.log(l.pagedropSize),console.log(l.currentdropPage)})}),l.firstRate=0,l.secondRate=0,l.readOnly=!0,l.onItemRating=function(e){l.rateingarr=e,l.rating=rateingarr,console.log(l.rating),null!=n.catid?l.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"5"}:l.vendorRating={rating:e,searchtype:l.categorySub[0].title,vendorType:"5"},console.log(l.vendorRating),s.post(g+"/getVendorPortFoliosByRating",l.vendorRating).then(function(e){l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?l.mechlistshow=!0:l.mechlistshow=!1,l.mechCount=e.data.paginationData.totalCount})},l.searchVendor=function(o){console.log(o),null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"5"},s.post(g+"/getVendorsByLocation?pageNumber=1&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?l.mechlistshow=!0:l.mechlistshow=!1,l.mechCount=e.data.paginationData.totalCount}),l.page=1,l.MechAct=function(e,a,t){null!=n.catid?l.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"}:l.searchRequest={searchString:o,searchSubCategory:l.categorySub[0].title,customerType:"5"},s.post(g+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",l.searchRequest).then(function(e){console.log(e),l.mechlist=e.data.responseData,l.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?l.mechlistshow=!0:l.mechlistshow=!1,l.mechCount=e.data.paginationData.totalCount})}})}}]),angular.module("newapp").controller("myaccountCtrl",["$scope","$http","$location","$routeParams","$filter","resturl",function(n,l,r,e,t,s){n.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],n.fileOptions=[{name:"Certificate",value:"certificate"},{name:"File 1",value:"file1"},{name:"File 2",value:"file2"},{name:"File 3",value:"file3"}],null!=localStorage.loggedInUser?(n.loggedInUser=localStorage.loggedInUser,n.loggedInUserName=localStorage.loggedInUserName,n.loggedInUserType=localStorage.loggedInUserType,n.loggedInuserId=localStorage.loggedInuserId,n.userlogged=!0,"CUSTOMER"==n.loggedInUserType?(n.wishlist=!0,n.userprofile=!0,n.orderinvoice=!0,n.inbox=!0,n.addwishlist=!0,n.changepassword=!0,n.actclass="active"):"SERVICE"==n.loggedInUserType?(n.serviceprofile=!0,n.orderinvoice=!0,n.inbox=!0,n.addwishlist=!0,n.wishlist=!0,n.changepassword=!0,n.seractclass="active"):"ARCHITECTS"==n.loggedInUserType?(n.arcprofile=!0,n.Portfolio=!0,n.abtarchitecture=!0,n.inbox=!0,n.orderinvoice=!0,n.addwishlist=!0,n.wishlist=!0,n.changepassword=!0,n.architectureactclass="active"):"MACHINERY & EQUIPMENT"==n.loggedInUserType?(n.mechprofile=!0,n.mechPortfolio=!0,n.abtMachinery=!0,n.orderinvoice=!0,n.inbox=!0,n.addwishlist=!0,n.wishlist=!0,n.changepassword=!0,n.mechactclass="active"):"WALL PAPER"==n.loggedInUserType?(n.wallpaperprofile=!0,n.abtwal=!0,n.wallPortfolio=!0,n.wallpaperUpdate=!0,n.wallpaperDelete=!0,n.orderinvoice=!0,n.inbox=!0,n.addwishlist=!0,n.wishlist=!0,n.changepassword=!0,n.wallpaperactclass="active"):(n.wishlist=!0,n.vodtls=!0,n.orderinvoice=!0,n.profile=!0,n.productlist=!0,n.addproduct=!0,n.inbox=!0,n.reports=!0,n.changepassword=!0,n.venactclass="active")):n.userlogged=!1,1==n.userlogged?(n.logout=function(){localStorage.clear(),r.path("/login")},n.myProfile=function(){r.path("/myaccount")},l.get(s+"/getAllCategories").then(function(e){console.log(e),n.menuitem=e.data.categoryData}),n.changepassword=function(e){console.log(e);var a={emailAddress:localStorage.loggedInUser,currentPassword:e.currentPassword,newPassword:e.confirmPassword};l.post(s+"/changeUserpassword",a).then(function(e){console.log(e),"true"==e.data.status?(n.success=e.data.successMessage,$(".changepassPopup").modal("show")):(n.failure=e.data.errorMessage,$(".changepasserrPopup").modal("show"))})},l.get(s+"/getCategoryWithImages").then(function(e){console.log(e),n.account=e.data.categoryImagedata}),l.get("js/controllers/todayorders.json").then(function(e){console.log(e),n.todayorder=e.data.torder}),l.post(s+"/order/vendorOrderDetails/"+localStorage.loggedInuserId+"?userId="+localStorage.loggedInuserId+"&page=0&size=20").then(function(e){for(console.log(e),n.vendororder=e.data.orders,n.uptotalCount=e.data.totalPages,i=0;i<e.data.orders.length;i++)n.vendororder[i].totalamt=e.data.orders[i].total.value}),n.vendorgetOrder=function(e){n.orderid=e.id,n.orderDate=e.datePurchased,n.finalAmount=e.totalamt,l.post(s+"/order/orderDetails/"+n.orderid).then(function(e){for(console.log(e),n.idOfOrder=e.data.id,n.order=e.data.products,i=0;i<e.data.products.length;i++)n.order[i].vendor=e.data.products[i].vendorDetails.vendorName;console.log(n.vedorname),n.shipaddress=e.data.delivery,console.log(n.shipaddress),console.log(n.order)})},l.post(s+"/order/allOrderDetails?userId="+localStorage.loggedInuserId+"&page=0&size=20").then(function(e){for(console.log(e),n.myorder=e.data.orders,n.uptotalCount=e.data.totalPages,i=0;i<e.data.orders.length;i++)n.myorder[i].totalamt=e.data.orders[i].total.value}),n.page=0,n.PagingAct=function(e,a,t){l.post(s+"/order/allOrderDetails?userId="+localStorage.loggedInuserId+"&page="+e+"&size=20").then(function(e){for(console.log(e),n.myorder=e.data.orders,n.orderTotalCount=e.data.totalPages,i=0;i<e.data.orders.length;i++)n.myorder[i].totalamt=e.data.orders[i].total.value})},n.getOrder=function(e){n.orderid=e.id,n.orderDate=e.datePurchased,n.finalAmount=e.totalamt,l.post(s+"/order/orderDetails/"+n.orderid).then(function(e){for(console.log(e),n.idOfOrder=e.data.id,n.order=e.data.products,i=0;i<e.data.products.length;i++)n.order[i].vendor=e.data.products[i].vendorDetails.vendorName;console.log(n.vedorname),n.shipaddress=e.data.delivery,console.log(n.shipaddress),console.log(n.order)})},n.hide=!0,n.vendorproduct=function(e){n.hide=!1,e.checked?n.hide=!1:n.hide=!0},l.get(s+"/productList/"+n.loggedInuserId+"?pageNumber=1&pageSize=15").then(function(e){console.log(e),n.mplist=e.data.responseData,n.total=e.data.paginationData.totalCount}),n.page=1,n.productAct=function(e,a,t){l.get(s+"/productList/"+n.loggedInuserId+"?pageNumber="+e+"&pageSize=15").then(function(e){console.log(e),n.mplist=e.data.responseData,n.total=e.data.paginationData.totalCount})},"VENDOR"==n.loggedInUserType?(n.whishcustomer=!1,n.vendorcustomer=!0,n.uncheck=!0,console.log(n.uncheck)):(n.vendorcustomer=!1,n.whishcustomer=!0,n.uncheck=!1),n.hide=!0,n.vendorselect=function(e){n.hide=!1,e.checked,n.hide=!1},l.get(s+"/wishlist/"+n.loggedInuserId+"?pageNumber=1&pageSize=15").then(function(e){console.log(e),n.mwlist=e.data.responseData,n.wishlisttotal=e.data.paginationData.totalCount}),n.page=1,n.wishAct=function(e,a,t){l.get(s+"/wishlist/"+n.loggedInuserId+"?pageNumber="+e+"&pageSize=15").then(function(e){console.log(e),n.mwlist=e.data.responseData,n.wishlisttotal=e.data.paginationData.totalCount})},n.wishlistDel=function(){var e=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get();if("0"==e.length)alert("Please select any one of the Product");else{var a={vendorId:n.loggedInuserId,productId:e};l.post(s+"/deleteWishListProducts",a).then(function(e){console.log(e),"true"==e.data.status?(n.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide")),l.get(s+"/wishlist/"+n.loggedInuserId+"?pageNumber=1&pageSize=15").then(function(e){console.log(e),n.mwlist=e.data.responseData,n.wishlisttotal=e.data.paginationData.totalCount})})}},$("#historyfromdate, #historytodate").datepicker({autoclose:!0,format:"yyyy-mm-dd",endDate:"today"}),n.historyByDate=function(e){var a={startDate:e.startDate,endDate:e.endDate,vendorId:localStorage.loggedInuserId};l.post(s+"/getProductRevenuesByVendor?pageNumber=1&pageSize=10",a).then(function(e){console.log(e),n.vendorreportdata=e.data.vendorProductRevenueData[0].vendorProducts,n.finalAmount=e.data.vendorProductRevenueData[0].totalRevenue,n.vendorid=e.data.vendorProductRevenueData[0].vendorId,n.vendorName=e.data.vendorProductRevenueData[0].vendorName,n.vendorsprodCount=e.data.paginationData.totalCount})},n.vendorgetOrder=function(e,a){console.log(e),console.log(a);var t={startDate:a.startDate,endDate:a.endDate,vendorId:localStorage.loggedInuserId};console.log(t),l.post(s+"/getProductVendors",t).then(function(e){console.log(e),$(".productModal").modal("show"),n.prodbyvendorbyrevenue=e.data.productVendorRevenueData[0].productVendors,n.productSku=e.data.productVendorRevenueData[0].productSku,n.productName=e.data.productVendorRevenueData[0].productName,console.log(n.productVendors),n.vendorid=e.data.productVendorRevenueData[0].vendorId,n.vendorName=e.data.productVendorRevenueData[0].vendorName})},n.productDel=function(){var e=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get();if("0"==e.length)alert("Please select any one of the Product");else{var a={vendorId:n.loggedInuserId,productId:e};l.post(s+"/deleteProductsFromProductList",a).then(function(e){console.log(e),"true"==e.data.status?(n.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide")),l.get(s+"/productList/"+n.loggedInuserId+"?pageNumber=1&pageSize=15").then(function(e){console.log(e),n.mplist=e.data.responseData,n.total=e.data.paginationData.totalCount})})}},l.get(s+"/getMessages/"+n.loggedInuserId+"?pageNumber=1&pageSize=10").then(function(e){console.log(e),n.msgData=e.data.responseData,n.msgCount=e.data.paginationData.totalCount}),n.page=0,n.msgPaging=function(e,a,t){l.get(s+"/getMessages/"+n.loggedInuserId+"?pageNumber="+e+"&pageSize=10").then(function(e){console.log(e),n.msgData=e.data.responseData,n.msgCount=e.data.paginationData.totalCount})},n.getmsgService=function(e){console.log(e),n.bookedDetails={category:e.category,dateAndTime:e.dateAndTime,postRequirementId:e.postRequirementId,query:e.query,responseMessage:e.responseMessage}},n.wishlist=function(){var e=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get(),a={vendorId:n.loggedInuserId,productId:e};l.post(s+"/addVendorProducts",a).then(function(e){console.log(e)})},n.portfoliodescriptionFun=function(e){var a={vendorId:n.loggedInuserId,vendorShortDescription:e.vendorShort,vendorDescription:e.vendorDesc};l.post(s+"/updateVendorDescription",a).then(function(e){console.log(e),1==e.data.status?(n.successmsg=e.data.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.data.errorMessage,$(".errormechPopup").modal("hide"))})},l.get(s+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),n.cartlist=e.data,console.log(n.cartlist),null==e.data.shoppingCartItems?n.lengthofcart=0:n.lengthofcart=e.data.shoppingCartItems.length})):r.path("/login"),n.wallsettings={checkBoxes:!0,enableSearch:!0};l.post(s+"/getCategoriesForCat",{searchString:"WALL PAPER"}).then(function(e){n.menuitems=angular.copy(e.data.categoryData);var a=n.menuitems[0].subCategory;console.log(a);for(var t=0;t<a.length;t++)delete a[t][".type"],a[t].label=a[t][".title"],delete a[t][".title"],n.walldata=a,console.log(n.walldata)}),n.mechinarysettings={checkBoxes:!0,enableSearch:!0},n.catpayload={searchString:"MACHINERY & EQUIPMENT"},l.post(s+"/getCategoriesForCat",n.catpayload).then(function(e){n.menuitems=angular.copy(e.data.categoryData);var a=n.menuitems[0].subCategory;console.log(a);for(var t=0;t<a.length;t++)delete a[t][".type"],a[t].label=a[t][".title"],delete a[t][".title"],n.Mechinarydata=a,console.log(n.Mechinarydata)}),n.Architectsettings={checkBoxes:!0,enableSearch:!0},n.catpayload={searchString:"Architects"},l.post(s+"/getCategoriesForCat",n.catpayload).then(function(e){n.menuitems=angular.copy(e.data.categoryData);var a=n.menuitems[0].subCategory;console.log(a);for(var t=0;t<a.length;t++)delete a[t][".type"],a[t].label=a[t][".title"],delete a[t][".title"],n.Architectdata=a,console.log(n.Architectdata)}),n.servicessettings={checkBoxes:!0,enableSearch:!0},l.get(s+"/services").then(function(e){for(var a=e.data.services,t=0;t<a.length;t++)delete a[t][".imageURL1"],delete a[t][".imageURL2"],delete a[t][".description"],delete a[t][".new"],a[t].label=a[t][".serviceType"],delete a[t][".serviceType"];n.servicesdata=a}),n.Update=function(e){console.log(e)},l.get(s+"/getUser/"+localStorage.loggedInuserId).then(function(e){if(console.log(e),"CUSTOMER"==n.loggedInUserType)n.userprofile=e.data.customerDetails,n.userprofile.address=e.data.customerDetails.billing.address,n.userprofile.state=e.data.customerDetails.billing.stateProvince,n.userprofile.city=e.data.customerDetails.billing.city,n.userprofile.phone=e.data.customerDetails.billing.phone,n.userprofile.postalCode=e.data.customerDetails.billing.postalCode,console.log(n.userprofile),n.$watch("userprofile.dob",function(e){n.userprofile.dob=t("date")(e,"yyyy-MM-dd")});else if("SERVICE"==n.loggedInUserType){n.vendorprofile=e.data.serviceDetails,n.vendorprofile.country="India",console.log(n.vendorprofile);var a=e.data.serviceDetails.vendorAuthCert;for(n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==a&&(n.cert=!1),null==e.data.serviceDetails.file1&&(n.files1=!1),null==e.data.serviceDetails.file2&&(n.files2=!1),null==e.data.serviceDetails.file3&&(n.files3=!1),n.servicesmodel=[],n.selectedIds=[],i=0;i<e.data.serviceDetails.serviceIds.length;i++)n.selectedIds.push(n.servicesdata[i]),n.servicesmodel=n.selectedIds;console.log(n.servicesmodel)}else if("ARCHITECTS"==n.loggedInUserType){for(n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",console.log(n.vendorprofile),n.certficateValue=e.data.vendorDetails.vendorAuthCert,n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==n.certficateValue&&(n.cert=!1),null==e.data.vendorDetails.file1&&(n.files1=!1),null==e.data.vendorDetails.file2&&(n.files2=!1),null==e.data.vendorDetails.file3&&(n.files3=!1),n.architectmodel=[],n.architectIds=[],i=0;i<e.data.vendorDetails.architectIds.length;i++)n.architectIds.push(n.Architectdata[i]);n.architectmodel=n.architectIds,console.log(n.architectmodel)}else if("MACHINERY & EQUIPMENT"==n.loggedInUserType){for(n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",console.log(n.vendorprofile),n.certficateValue=e.data.vendorDetails.vendorAuthCert,n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==n.certficateValue&&(n.cert=!1),null==e.data.vendorDetails.file1&&(n.files1=!1),null==e.data.vendorDetails.file2&&(n.files2=!1),null==e.data.vendorDetails.file3&&(n.files3=!1),n.mechinarymodel=[],n.architectIds=[],i=0;i<e.data.vendorDetails.architectIds.length;i++)n.architectIds.push(n.Mechinarydata[i]);n.mechinarymodel=n.architectIds,console.log(n.mechinarymodel)}else if("WALL PAPER"==n.loggedInUserType){for(n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",console.log(n.vendorprofile),n.certficateValue=e.data.vendorDetails.vendorAuthCert,n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==n.certficateValue&&(n.cert=!1),null==e.data.vendorDetails.file1&&(n.files1=!1),null==e.data.vendorDetails.file2&&(n.files2=!1),null==e.data.vendorDetails.file3&&(n.files3=!1),n.wallmodel=[],n.architectIds=[],i=0;i<e.data.vendorDetails.architectIds.length;i++)n.architectIds.push(n.walldata[i]);n.wallmodel=n.architectIds,console.log(n.wallmodel)}else n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",console.log(n.vendorprofile),n.certficateValue=e.data.vendorDetails.vendorAuthCert,n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==$scop.certficateValue&&(n.cert=!1),null==e.data.vendorDetails.file1&&(n.files1=!1),null==e.data.vendorDetails.file2&&(n.files2=!1),null==e.data.vendorDetails.file3&&(n.files3=!1)}),n.alerthide=function(){n.errmsg=!1},$(".vendorpic").change(function(){var e=$(".vendorpic")[0].files[0].name;$("#vendorpicselect_file").html(e)}),$(".vendorcert").change(function(){var e=$(".vendorcert")[0].files[0].name;$("#vendorcert_select").html(e)}),n.files=[],n.fileIDs=[],$("input[type='file']").on("change",function(e){for(var a=event.target.files,t=0;t<a.length;t++)n.files.push(a[t]),n.fileIDs.push(event.target.id)}),"CUSTOMER"==n.loggedInUserType?n.Update=function(e){console.log(e),delete e.billing,delete e.delivery,delete e.activated,delete e.password,delete e.language,delete e.customerType,delete e.userName,console.log(e),l.post(s+"/customer/update",e).then(function(e){"true"==e.data.status?(n.errmsg=!0,n.errmessage=e.data.successMessage):(n.errmsg=!0,n.errmessage=e.data.errorMessage)})}:"VENDOR"==n.loggedInUserType?n.vendorUpdate=function(t){t.userType="VENDOR",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.vendorOfficeAddress,delete t.activationURL,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3,console.log(t),l({method:"POST",url:s+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){console.log(e),console.log(e.status),"true"==e.status?(n.errmsg=!0,n.errmessage=e.successMessage,n.files=[],n.fileIDs=[],l.get(s+"/getUser/"+localStorage.loggedInuserId).then(function(e){console.log(e),n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",console.log(n.vendorprofile)})):(n.errmsg=!0,n.errmessage=e.data.errorMessage,n.files=[],n.fileIDs=[])}).error(function(e,a,t,o){r.path("/myaccount")})}:"ARCHITECTS"==n.loggedInUserType?n.ArcUpdate=function(t){t.userType="ARCHITECTS",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.vendorOfficeAddress,delete t.activationURL,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3;var e=[];for(i=0;i<n.architectmodel.length;i++)e.push(n.architectmodel[i].id);t.architectIds=e,console.log(t),l({method:"POST",url:s+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){console.log(e),console.log(e.status),n.files=[],n.fileIDs=[],"true"==e.status?(n.errmsg=!0,n.errmessage=e.successMessage,l.get(s+"/getUser/"+localStorage.loggedInuserId).then(function(e){console.log(e),n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",console.log(n.vendorprofile)})):(n.errmsg=!0,n.errmessage=e.data.errorMessage)}).error(function(e,a,t,o){r.path("/myaccount")})}:"MACHINERY & EQUIPMENT"==n.loggedInUserType?n.mechUpdate=function(t){t.userType="MACHINERY & EQUIPMENT",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.vendorOfficeAddress,delete t.activationURL,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3;var e=[];for(i=0;i<n.mechinarymodel.length;i++)e.push(n.mechinarymodel[i].id);t.architectIds=e,console.log(t),l({method:"POST",url:s+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){console.log(e),console.log(e.status),n.files=[],n.fileIDs=[],"true"==e.status?(n.errmsg=!0,n.errmessage=e.successMessage,l.get(s+"/getUser/"+localStorage.loggedInuserId).then(function(e){console.log(e),n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",console.log(n.vendorprofile)})):(n.errmsg=!0,n.errmessage=e.data.errorMessage)}).error(function(e,a,t,o){r.path("/myaccount")})}:"WALL PAPER"==n.loggedInUserType?n.wallpaperUpdate=function(t){t.userType="WALL PAPER",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.vendorOfficeAddress,delete t.activationURL,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3;var e=[];for(i=0;i<n.wallmodel.length;i++)e.push(n.wallmodel[i].id);t.architectIds=e,console.log(t),l({method:"POST",url:s+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){console.log(e),console.log(e.status),n.files=[],n.fileIDs=[],"true"==e.status?(n.errmsg=!0,n.errmessage=e.successMessage,l.get(s+"/getUser/"+localStorage.loggedInuserId).then(function(e){console.log(e),n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",console.log(n.vendorprofile)})):(n.errmsg=!0,n.errmessage=e.data.errorMessage)}).error(function(e,a,t,o){r.path("/myaccount")})}:n.serviceUpdate=function(t){t.userType="SERVICE",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.activationURL,delete t.vendorOfficeAddress,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3;var e=[];for(i=0;i<n.servicesmodel.length;i++)e.push(n.servicesmodel[i].id);t.serviceIds=e,console.log(t),l({method:"POST",url:s+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){console.log(e),console.log(e.status),n.files=[],n.fileIDs=[],"true"==e.status?(n.errmsg=!0,n.errmessage=e.successMessage,l.get(s+"/getUser/"+localStorage.loggedInuserId).then(function(e){console.log(e),n.vendorprofile=e.data.serviceDetails,n.vendorprofile.country="India",console.log(n.vendorprofile)})):(n.errmsg=!0,n.errmessage=e.data.errorMessage)}).error(function(e,a,t,o){r.path("/myaccount")})};var a={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserArchitectsPortfolio?pageNumber=1&pageSize=5",a).then(function(e){console.log(e),n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount,n.descript=e.data}),n.page=1,n.arcPagingAct=function(e,a,t){var o={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserArchitectsPortfolio?pageNumber="+e+"&pageSize=5",o).then(function(e){console.log(e),n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount})},$(".arcimagesa").change(function(){var e=$(".arcimagesa")[0].files[0].name;$("#arcpicimage").html(e)}),n.portfolioImagesFun=function(e){var a={portfolioName:e.portfolioName,vendorId:n.loggedInuserId};console.log(a);var t=n.myFile,o=s+"/addArchitectsPortfolio",r=new FormData;r.append("architectsRequest",JSON.stringify(a)),r.append("file",t),l({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){$(".architectPopup").modal("hide"),console.log(e),console.log(e.status),n.files=[],1==e.status?(n.successmessage=e.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.errorMessage,$(".errorPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserArchitectsPortfolio?pageNumber=1&pageSize=5",r).then(function(e){console.log(e),n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount})}).error(function(e,a,t,o){})},n.portfolioDetailsFun=function(e){n.viewPortfolio={imageURL:e.imageURL,portfolioId:e.architectPortfolioId,portfolioName:e.portfolioName}},n.files=[],n.$on("seletedFile",function(e,a){n.$apply(function(){n.files.push(a.file)})}),$(".arcpicimages").change(function(){var e=$(".arcpicimages")[0].files[0].name;$("#arcpicselect_file").html(e)}),n.updatePortImg=function(e){$(".architectPopup").modal("hide");var a={portfolioId:e.portfolioId,vendorId:n.loggedInuserId,portfolioName:e.portfolioName};console.log(a);var t=n.myFile,o=s+"/updateArchitectsPortfolio",r=new FormData;return null!=t?r.append("file",t):null==t&&r.append("file",new File([""],"emptyFile.jpg")),r.append("architectsRequest",JSON.stringify(a)),l({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){$(".architectPopup").modal("hide"),console.log(e),console.log(e.status),n.files=[],1==e.status?(n.successmessage=e.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.errorMessage,$(".errorPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserArchitectsPortfolio?pageNumber=1&pageSize=5",r).then(function(e){console.log(e),n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount})}).error(function(e,a,t,o){})},n.deleteProtImg=function(a){$(".architectPopup").modal("hide"),$(".confirmDelmechPopup").modal("show"),n.confirmDelete=function(){$(".confirmDelmechPopup").modal("hide"),console.log(a);var e={portfolioId:a.portfolioId};l.post(s+"/deleteArchitectsPortfolio",e).then(function(e){console.log(e),1==e.data.status?(n.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide"));var a={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserArchitectsPortfolio?pageNumber=1&pageSize=5",a).then(function(e){console.log(e),n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount}),n.page=1,n.arcPagingAct=function(e,a,t){var o={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserArchitectsPortfolio?pageNumber="+e+"&pageSize=5",o).then(function(e){console.log(e),n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount})}})}},n.mechDetailsFun=function(e){n.viewmechPortfolio={imageURL:e.imageURL,portfolioId:e.machineryPortfolioId,portfolioName:e.portfolioName}},$("#portfolio").change(function(){var e=$("#portfolio")[0].files[0].name;$("#mechpicselect_file").html(e)}),n.reqObj={vendorId:n.loggedInuserId,status:"ALL"},l.post(s+"/getUserMachineryPortfolio?pageNumber=1&pageSize=5",n.reqObj).then(function(e){console.log(e),n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount,n.descript=e.data}),n.page=1,n.PagingAct=function(e,a,t){var o={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserMachineryPortfolio?pageNumber="+e+"&pageSize=5",o).then(function(e){console.log(e),n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount})},n.mechineryFormImagesFun=function(e){var a={portfolioName:e.portfolioName,equipmentName:e.equipmentName,equipmentPrice:e.equipmentPrice,hiringType:e.hiringType,vendorId:n.loggedInuserId};console.log(a);var t=n.myFile,o=s+"/addMachineryPortfolio",r=new FormData;r.append("machineryRequest",JSON.stringify(a)),r.append("file",t),l({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){$(".architectPopup").modal("hide"),console.log(e),console.log(e.status),n.files=[],1==e.status?(n.successmessage=e.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.errorMessage,$(".errorPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserMachineryPortfolio?pageNumber=1&pageSize=5",r).then(function(e){console.log(e),n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount})}).error(function(e,a,t,o){})},$(".mechupportpic").change(function(){var e=$(".mechupportpic")[0].files[0].name;$("#mechpicselectupdate_file").html(e)}),n.files=[],n.$on("seletedFile",function(e,a){n.$apply(function(){n.files.push(a.file)})}),n.mechDetailsFun=function(e){n.viewmechPortfolio={imageURL:e.imageURL,portfolioId:e.machineryPortfolioId,portfolioName:e.portfolioName}},n.updatemechPortImg=function(e){$(".mechPopup").modal("hide");var a={portfolioId:e.portfolioId,vendorId:n.loggedInuserId,portfolioName:e.portfolioName};console.log(a);var t=n.myFile,o=s+"/updateMachineryPortfolio",r=new FormData;return null!=t?r.append("file",t):null==t&&r.append("file",new File([""],"emptyFile.jpg")),r.append("machineryRequest",JSON.stringify(a)),l({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){console.log(e),console.log(e.status),n.files=[],n.errmsg=!0,1==e.status?(n.successmsg=e.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.errorMessage,$(".errormechPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserMachineryPortfolio?pageNumber=1&pageSize=5",r).then(function(e){console.log(e),n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount,n.descript=e.data})}).error(function(e,a,t,o){})},n.reqObj={vendorId:n.loggedInuserId,status:"ALL"},l.post(s+"/getUserMachineryPortfolio",n.reqObj).then(function(e){console.log(e),n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount}),n.mechportdel=function(e){$(".mechPopup").modal("hide"),$(".confirmDelmechPopup").modal("show")},n.confirmDelete=function(e){$(".confirmDelmechPopup").modal("hide");var a={portfolioId:e.portfolioId};l.post(s+"/deleteMachineryPortfolio",a).then(function(e){console.log(e),1==e.data.status?(n.successmsg=e.data.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.data.errorMessage,$(".errormechPopup").modal("hide"));var a={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserMachineryPortfolio",a).then(function(e){console.log(e),n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount})})},n.reqObj={vendorId:n.loggedInuserId,status:"ALL"},l.post(s+"/getUserWallPaperPortfolio?pageNumber=1&pageSize=5",a).then(function(e){console.log(e),n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount,n.descript=e.data}),n.page=1,n.walPagingAct=function(e,a,t){var o={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserWallPaperPortfolio?pageNumber="+e+"&pageSize=5",o).then(function(e){console.log(e),n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount})},$(".walpic").change(function(){var e=$(".walpic")[0].files[0].name;$("#wallselect_file").html(e)}),n.files=[],n.$on("seletedFile",function(e,a){n.$apply(function(){n.files.push(a.file)})}),n.walportfolioImagesFun=function(e){null==e.Price&&(e.Price="0"),null==e.amount&&(e.amount="0"),console.log(e.Price);var a={portfolioName:e.portfolioName,brand:e.brand,thickness:e.thickness,size:e.size,price:e.Price,serviceCharges:e.amount,vendorId:n.loggedInuserId};console.log(a);var t=n.myFile,o=s+"/addWallPaperPortfolio",r=new FormData;r.append("wallPaperRequest",JSON.stringify(a)),r.append("file",t),l({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){console.log(e),console.log(e.status),n.files=[],1==e.status?(n.successmsg=e.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.errorMessage,$(".errormechPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserWallPaperPortfolio?pageNumber=1&pageSize=5",r).then(function(e){console.log(e),n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount,n.descript=e.data})}).error(function(e,a,t,o){})},n.waldeleteProd=function(a){$(".wallpaperPopup").modal("hide"),$(".confirmDelmechPopup").modal("show"),n.confirmDelete=function(){$(".confirmDelmechPopup").modal("hide");var e={portfolioId:a.portfolioId};l.post(s+"/deleteWallPaperPortfolio",e).then(function(e){console.log(e),1==e.data.status?(n.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide"));var a={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserWallPaperPortfolio?pageNumber=1&pageSize=5",a).then(function(e){console.log(e),n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount,n.descript=e.data})})}},l.post(s+"/getUserWallPaperPortfolio",a).then(function(e){console.log(e),n.wallrecently=e.data.responseData}),$("#waipaperupdatepic").change(function(){var e=$("#waipaperupdatepic")[0].files[0].name;$("#wallpicselect_file").html(e)}),n.files=[],n.$on("seletedFile",function(e,a){n.$apply(function(){n.files.push(a.file)})}),n.portfolioDetailswalFun=function(e){n.wallpopPortfolio={imageURL:e.imageURL,portfolioId:e.portfolioId,portfolioName:e.portfolioName}},n.updatedwalpaperImg=function(e){$(".wallpaperPopup").modal("hide");var a={portfolioId:e.portfolioId,vendorId:n.loggedInuserId,portfolioName:e.portfolioName};console.log(a);var t=n.myFile,o=s+"/updateWallPaperPortfolio",r=new FormData;return null!=t?r.append("file",t):null==t&&r.append("file",new File([""],"emptyFile.jpg")),r.append("wallPaperRequest",JSON.stringify(a)),l({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){console.log(e),console.log(e.status),n.files=[],n.errmsg=!0,1==e.status?(n.successmsg=e.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.errorMessage,$(".errormechPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};l.post(s+"/getUserWallPaperPortfolio?pageNumber=1&pageSize=5",r).then(function(e){console.log(e),n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount,n.descript=e.data})}).error(function(e,a,t,o){})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),newapp.directive("uploadFiles",function(){return{scope:!0,link:function(o,e,a){e.bind("change",function(e){for(var a=e.target.files,t=0;t<a.length;t++)o.$emit("seletedFile",{file:a[t]})})}}}),newapp.directive("fileModel",["$parse",function(r){return{restrict:"A",link:function(e,a,t){var o=r(t.fileModel).assign;a.bind("change",function(){e.$apply(function(){o(e,a[0].files[0]),console.log(a[0].files[0])})})}}}]),angular.module("newapp").controller("cartCtrl",["$scope","$http","$location","resturl",function(a,t,e,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),e.path("/login")},a.myProfile=function(){e.path("/myaccount")},t.get(o+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),0==a.userlogged?(localStorage.clear(),e.path("/login")):(t.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){for(console.log(e),a.cartlist=e.data,a.cartCode=e.data.code,a.totalprice=e.data.total,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length,0==a.lengthofcart?(a.cartEmpty=!1,a.cartNullMessage=!0):a.cartEmpty=!0,i=0;i<a.lengthofcart;i++)a.prodId=e.data.shoppingCartItems[i].id,console.log(a.prodId);for(i=0;i<e.data.shoppingCartItems.length;i++)a.cartdiscountPrice=e.data.shoppingCartItems[i].discountPrice,a.cartPrice=e.data.shoppingCartItems[i].price,console.log(a.cartPrice),console.log(a.cartdiscountPrice);a.showPrice=!0,null!=a.cartdiscountPrice&&a.cartPrice!=a.cartdiscountPrice||(a.showPrice=!1)}),a.deleteProd=function(e){console.log(e),t.get(o+"/cart/removeShoppingCartItem/"+a.cartCode+"/"+e).then(function(e){console.log(e),t.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,a.totalprice=e.data.total,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length,0==a.lengthofcart?(a.cartEmpty=!1,a.cartNullMessage=!0):a.cartEmpty=!0})})}),"undefined"==localStorage.loggedInuserId&&(a.lengthofcart=0),a.update=function(){var e=[];for(i=0;i<a.lengthofcart;i++)a.prodId=a.cartlist.shoppingCartItems[i].id,a.qty=a.cartlist.shoppingCartItems[i].quantity,a.category=a.cartlist.shoppingCartItems[i].category,console.log(a.qty),"Wallpaper"==a.category?a.eachCartProduct={id:a.cartlist.shoppingCartItems[i].id,code:a.cartlist.code,category:"Wallpaper",quantity:a.cartlist.shoppingCartItems[i].quantity}:a.eachCartProduct={id:a.cartlist.shoppingCartItems[i].id,code:a.cartlist.code,quantity:a.cartlist.shoppingCartItems[i].quantity},e.push(a.eachCartProduct);a.updateCartsReq=e,t.post(o+"/cart/updateShoppingCartItem?userId="+localStorage.loggedInuserId,a.updateCartsReq).then(function(e){console.log(e),a.cartlist=e.data,t.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,a.totalprice=e.data.total,a.lengthofcart=e.data.shoppingCartItems.length,console.log(a.lengthofcart)})})},a.increment=function(e){e.quantity++},a.decrement=function(e){e.quantity--},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("deliveryctrl",["$scope","$http","$location","resturl",function(a,t,e,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),e.path("/login")},a.myProfile=function(){e.path("/myaccount")},t.get(o+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),t.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,a.cartCode=e.data.code,console.log(a.cartlist),a.totalprice=e.data.total,console.log(a.lengthofcart),null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length}),a.lengthofcart=0,t.get(o+"/shop/customer/displayShippingAddress/"+localStorage.loggedInuserId).then(function(e){for(console.log(e),a.deliverylist=e.data.shippingAddress,a.customerName=e.data.customerName,a.shippingLength=e.data.shippingAddress.length,i=0;i<a.shippingLength;i++)a.addressId=e.data.shippingAddress[i].preferenceOrder,console.log(a.addressId);a.hideAddress=!0,3<=a.shippingLength&&(a.hideAddress=!1)}),a.newaddress=function(e){1==a.addressId||3==a.addressId?(e.billingAddress=!1,e.deliveryAddress=!0,e.secondaryDeliveryAddress=!1):(e.billingAddress=!1,e.deliveryAddress=!1,e.secondaryDeliveryAddress=!0),console.log(e),t.post(o+"/shop/customer/updateShippingAddress/"+localStorage.loggedInuserId,e).then(function(e){console.log(e),a.deliverylist=e.data.shippingAddress,t.get(o+"/shop/customer/displayShippingAddress/"+localStorage.loggedInuserId).then(function(e){console.log(e),a.deliverylist=e.data.shippingAddress,a.shippingLength=e.data.shippingAddress.length,console.log(a.shippingLength),3<=a.shippingLength?a.hideAddress=!1:a.hideAddress=!0})})},a.deleteProd=function(e){console.log(e),t.get(o+"/shop/customer/removeShippingAddress/"+localStorage.loggedInuserId+"?addressPref="+e).then(function(e){console.log(e),t.get(o+"/shop/customer/displayShippingAddress/"+localStorage.loggedInuserId).then(function(e){console.log(e),a.deliverylist=e.data.shippingAddress,a.shippingLength=e.data.shippingAddress.length,console.log(a.shippingLength),3<=a.shippingLength?a.hideAddress=!1:a.hideAddress=!0})})},a.preferenceOrder=1,a.address=function(e){a.preferenceOrder=e,console.log(a.preferenceOrder)},a.placeorder=function(){window.location.assign(o+"/order/commitOrder/"+a.cartCode+"/"+a.preferenceOrder+"?userId="+localStorage.loggedInuserId)},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("paymentctrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),e.get("js/controllers/payment.json").then(function(e){console.log(e),a.paymentlist=e.data.payment}),e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,console.log(a.cartlist),a.lengthofcart=e.data.shoppingCartItems.length,a.totalprice=e.data.total,console.log(a.lengthofcart)}),a.lengthofcart=0}]),angular.module("newapp").controller("viewmsgctrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/profile")},e.get(o+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),e.get("js/controllers/myaccount.json").then(function(e){console.log(e),a.account=e.data.myacc}),e.get("js/controllers/order.json").then(function(e){console.log(e),a.myorder=e.data.order}),e.get("js/controllers/myaccproductlist.json").then(function(e){console.log(e),a.mplist=e.data.myaccplist}),e.get("js/controllers/myaccwishlist.json").then(function(e){console.log(e),a.mwlist=e.data.myaccwlist}),e.get("js/controllers/inboxread.json").then(function(e){console.log(e),a.readmsg=e.data.read}),e.get("js/controllers/inboxunread.json").then(function(e){console.log(e),a.unreadmsg=e.data.unread}),e.get("js/controllers/viewmsg.json").then(function(e){console.log(e),a.vmsg=e.data.viewmsg}),e.get(o+"/cart/displayCart?userId="+localStorage.loggedInUserId).then(function(e){console.log(e),a.cartlist=e.data,console.log(a.cartlist),a.lengthofcart=e.data.shoppingCartItems.length,console.log(a.lengthofcart)}),a.lengthofcart=0}]),angular.module("newapp").controller("paymentsuccessCtrl",["$scope","$http","$location","$window","resturl",function(a,e,t,o,r){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],o.scrollTo(0,0),null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(r+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),e.get(r+"/getContactUS").then(function(e){console.log(e),a.contactdetails=e.data}),e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,console.log(a.cartlist),null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})}]),angular.module("newapp").controller("activateuserCtrl",["$scope","$http","$location","resturl",function(e,a,t,o){e.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],console.log(t.search()),a.post(o+"/user/activate",t.search()).then(function(e){console.log(e),t.path("/login")})}]),angular.module("newapp").controller("conformCtrl",["$scope","$http","$location","$window","resturl","$rootScope",function(a,e,t,o,r,n){null==n.usertype?(a.custmor=!0,a.vendor=!1,console.log(n.firstName),console.log(n.lastName)):(a.custmor=!1,a.vendor=!0,console.log(n.vendorName),console.log(n.usertype)),a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],o.scrollTo(0,0),null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(r+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),e.get(r+"/getContactUS").then(function(e){console.log(e),a.contactdetails=e.data}),e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,console.log(a.cartlist),null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})}]),angular.module("newapp").controller("profileCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},e.get(o+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),a.mouseOver=function(e){a.set_bg=function(){return a.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+a.bgimg+".jpg)"}}},e.get(o+"/cart/displayCart?userId="+localStorage.loggedInUserId).then(function(e){console.log(e),a.cartlist=e.data,console.log(a.cartlist),a.lengthofcart=e.data.shoppingCartItems.length,console.log(a.lengthofcart)}),a.lengthofcart=0,a.changepass=function(e){console.log(e)}}]),angular.module("newapp").controller("postrequirectrl",["$scope","$http","$location","$routeParams","$filter","resturl",function(t,o,e,r){$(".login-btn").click(function(){$(".myprofile-block").toggle()}),t.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.isDisabled=!1,null!=localStorage.loggedInUser?(t.loggedInUser=localStorage.loggedInUser,t.loggedInUserName=localStorage.loggedInUserName,t.loggedInUserType=localStorage.loggedInUserType,t.loggedInuserId=localStorage.loggedInuserId,t.userlogged=!0):t.userlogged=!1,1==t.userlogged?(t.logout=function(){localStorage.clear(),e.path("/login")},t.mouseOver=function(e){t.set_bg=function(){return t.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+t.bgimg+".jpg)"}}},t.myProfile=function(){e.path("/myaccount")},o.get(r+"/getAllCategories").then(function(e){console.log(e),t.menuitems=angular.copy(e.data.categoryData),t.menuitem=e.data.categoryData,t.menuitem.push({title:"Service"})}),o.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),t.cartlist=e.data,console.log(t.cartlist),null==e.data.shoppingCartItems?t.lengthofcart=0:t.lengthofcart=e.data.shoppingCartItems.length})):e.path("/login"),o.get(r+"/getUser/"+localStorage.loggedInuserId).then(function(e){console.log(t.loggedInUserType),t.displayLastName=!1,"CUSTOMER"==t.loggedInUserType?(t.displayLastName=!0,t.userprofile=e.data.customerDetails.billing,t.userprofile.email=e.data.customerDetails.email,t.userprofile.state=e.data.customerDetails.stateProvince):"SERVICE"==t.loggedInUserType?(t.userprofile=e.data.serviceDetails,t.userprofile.firstName=e.data.serviceDetails.vendorName,t.userprofile.phone=e.data.serviceDetails.vendorTelephone,t.userprofile.address=e.data.serviceDetails.houseNumber,t.userprofile.stateProvince=e.data.serviceDetails.state):(t.userprofile=e.data.vendorDetails,t.userprofile.firstName=e.data.vendorDetails.vendorName,t.userprofile.phone=e.data.vendorDetails.vendorTelephone,t.userprofile.address=e.data.vendorDetails.houseNumber,t.userprofile.stateProvince=e.data.vendorDetails.state)}),t.postreq=function(e){t.isDisabled=!0;var a={category:e.item.title,query:e.query,customerId:t.loggedInuserId};console.log(a),o.post(r+"/postrequirement/save",a).then(function(e){console.log(e),"true"==e.data.status?(t.isDisabled=!1,t.success=e.data.successMessage,$(".successPopup").modal("show")):(t.failure=e.data.successMessage,$(".errorPopup").modal("show"))})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("arcproductCtrl",["$scope","$http","$location","$routeParams","resturl",function(o,r,a,n,l){o.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(o.loggedInUser=localStorage.loggedInUser,o.loggedInUserName=localStorage.loggedInUserName,o.loggedInuserId=localStorage.loggedInuserId,o.userlogged=!0):o.userlogged=!1,o.logout=function(){localStorage.clear(),a.path("/login")},o.myProfile=function(){a.path("/myaccount")},r.get(l+"/getAllCategories").then(function(e){console.log(e),o.menuitem=e.data.categoryData}),o.id=n.id,console.log(n.id),null==o.loggedInuserId?o.showReview=!1:(o.showReview=!0,o.onItemRating=function(e){o.starValue=e,console.log(o.starValue)},o.submitReview=function(e){var a={customerId:o.loggedInuserId,vendorId:n.id,rating:o.starValue,reviewTitle:"",reviewDescription:e.description};console.log(a),r.post(l+"/vendor/rating",a).then(function(e){console.log(e),1==e.data.status?(o.errmsg=!0,o.errmessage=e.data.successMessage):(o.errmsg=!0,o.errmessage=e.data.errorMessage)})}),r.get(l+"/vendor/"+n.id+"/reviews?pageNumber=1&pageSize=2").then(function(e){console.log(e),o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,console.log(o.averagereview),o.userRatings=e.data.reviewList,console.log(o.userRatings),o.totalreview=e.data.totalratingCount,console.log(o.totalreview),o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]}),o.page=1,o.PagingAct=function(e,a,t){r.get(l+"/vendor/"+n.id+"/reviews?pageNumber="+e+"&pageSize=2").then(function(e){console.log(e),o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,console.log(o.averagereview),o.userRatings=e.data.reviewList,console.log(o.userRatings),o.totalreview=e.data.totalratingCount,console.log(o.totalreview),o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]})},o.getStars=function(e){return parseFloat(e)/5*100+"%"},o.Booknowfun=function(e){null==o.loggedInuserId?a.path("/login"):(o.vendorName=e,o.customerName=o.loggedInUserName,$("#appointmentDate").datepicker({autoclose:!0,format:"yyyy-mm-dd"}),$(".bookNowPopup").modal("show"))},o.confirmBooking=function(e){$(".bookNowPopup").modal("hide"),console.log(e);var a={customerId:o.loggedInuserId,vendorId:n.id,appointmentDate:e.appointmentDate,address:e.address,description:e.description};console.log(a),r.post(l+"/vendor/booking",a).then(function(e){console.log(e),1==e.data.status?(o.success=e.data.successMessage,$(".successPopup").modal("show")):(o.failure=e.data.successMessage,$(".errorPopup").modal("show"))})};var e={vendorId:n.id,status:"Y"};r.post(l+"/getUserArchitectsPortfolio",e).then(function(e){console.log(e),o.recently=e.data.responseData,o.Description=e.data.vendorDescription,o.ShortDescription=e.data.vendorShortDescription,o.imageUrl=e.data.vendorImageURL,o.vendorName=e.data.vendorName,o.vendorportName=e.data.vendorPortfolioName,o.certficateValue=e.data.vendorPortfolioDocument,o.cert=!0,null==o.certficateValue&&(o.nullcert=!0,o.cert=!1),o.RecentlyLoaded=!0,o.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),localStorage.loggedInuserId,r.get(l+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),o.cartlist=e.data,console.log(o.cartlist),null==e.data.shoppingCartItems?o.lengthofcart=0:o.lengthofcart=e.data.shoppingCartItems.length}),r.get(l+"/vendortypes/3").then(function(e){console.log(e),o.arclist=e.data.responseData,o.totalCount=e.data.paginationData.totalCount}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("mechinerylistCtrl",["$scope","$http","$location","$routeParams","resturl",function(o,r,a,n,l){$("#appointmentDate").datepicker({autoclose:!0,format:"yyyy-mm-dd"}),o.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(o.loggedInUser=localStorage.loggedInUser,o.loggedInUserName=localStorage.loggedInUserName,o.loggedInuserId=localStorage.loggedInuserId,o.customerName=o.loggedInUserName,o.userlogged=!0):o.userlogged=!1,o.logout=function(){localStorage.clear(),a.path("/login")},o.myProfile=function(){a.path("/myaccount")},r.get(l+"/getAllCategories").then(function(e){console.log(e),o.menuitem=e.data.categoryData}),o.id=n.id,console.log(n.id),0==o.userlogged?o.showReview=!1:(o.showReview=!0,o.onItemRating=function(e){o.starValue=e,console.log(o.starValue)},o.submitReview=function(e){var a={customerId:o.loggedInuserId,vendorId:n.id,rating:o.starValue,reviewTitle:"",reviewDescription:e.description};console.log(a),r.post(l+"/vendor/rating",a).then(function(e){console.log(e),1==e.data.status?(o.errmsg=!0,o.errmessage=e.data.successMessage):(o.errmsg=!0,o.errmessage=e.data.errorMessage)})}),r.get(l+"/vendor/"+n.id+"/reviews?pageNumber=1&pageSize=2").then(function(e){console.log(e),o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,console.log(o.averagereview),o.userRatings=e.data.reviewList,console.log(o.userRatings),o.totalreview=e.data.totalratingCount,console.log(o.totalreview),o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]}),o.page=1,o.PagingAct=function(e,a,t){r.get(l+"/vendor/"+n.id+"/reviews?pageNumber="+e+"&pageSize=2").then(function(e){console.log(e),o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,console.log(o.averagereview),o.userRatings=e.data.reviewList,console.log(o.userRatings),o.totalreview=e.data.totalratingCount,console.log(o.totalreview),o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]})},o.getStars=function(e){return parseFloat(e)/5*100+"%"},o.mechpopup=function(e){null==o.loggedInuserId?a.path("/login"):(o.vendorName=e,o.customerName=o.loggedInUserName,$("#appointmentDate").datepicker({autoclose:!0,format:"yyyy-mm-dd"}),$(".bookNowPopup").modal("show"))},o.mechpopFormReq=function(e){$(".bookNowPopup").modal("hide"),console.log(e);var a={customerId:o.loggedInuserId,vendorId:n.id,appointmentDate:e.appointmentDate,address:e.address,equipmentPrice:e.equipmentPrice,hiringType:e.hiringType,description:e.description};console.log(a),r.post(l+"/vendor/booking",a).then(function(e){console.log(e),1==e.data.status?(o.success=e.data.successMessage,$(".successPopup").modal("show")):(o.failure=e.data.successMessage,$(".errorPopup").modal("show"))})};var e={vendorId:n.id,status:"Y"};r.post(l+"/getUserMachineryPortfolio",e).then(function(e){console.log(e),o.recently=e.data.responseData,o.Description=e.data.responseData[0].vendorDescription,o.ShortDescription=e.data.responseData[0].vendorShortDescription,o.imageUrl=e.data.vendorImageURL,o.vendorName=e.data.vendorName,o.RecentlyLoaded=!0,o.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),localStorage.loggedInuserId,r.get(l+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),o.cartlist=e.data,console.log(o.cartlist),null==e.data.shoppingCartItems?o.lengthofcart=0:o.lengthofcart=e.data.shoppingCartItems.length}),r.get(l+"/vendortypes/5").then(function(e){console.log(e),o.arclist=e.data.responseData,o.totalCount=e.data.paginationData.totalCount}),o.mechpopup=function(e){null==o.loggedInuserId&&a.path("/login"),console.log(e),o.mecheqpopupReq={portfolioName:e.portfolioName,portfolioId:e.machineryPortfolioId,equipmentPrice:e.equipmentPrice,hiringType:e.hiringType,fromdate:e.fromdate,todate:e.todate,equipmentName:e.equipmentName,imageURL:e.imageURL}},o.mechpopFormReq=function(e){$(".bookNowPopup").modal("hide"),console.log(e);var a={customerId:o.loggedInuserId,vendorId:n.id,appointmentDate:e.appointmentDate,address:e.address,description:e.description};console.log(a),r.post(l+"/vendor/booking",a).then(function(e){console.log(e),1==e.data.status?(o.success=e.data.successMessage,$(".successPopup").modal("show")):(o.failure=e.data.successMessage,$(".errorPopup").modal("show"))})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("wallpaperlistCtrl",["$scope","$http","$location","$routeParams","resturl",function(o,r,a,n,l){o.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(o.loggedInUser=localStorage.loggedInUser,o.loggedInUserName=localStorage.loggedInUserName,o.loggedInuserId=localStorage.loggedInuserId,o.userlogged=!0):o.userlogged=!1,o.logout=function(){localStorage.clear(),a.path("/login")},o.myProfile=function(){a.path("/myaccount")},r.get(l+"/getAllCategories").then(function(e){console.log(e),o.menuitem=e.data.categoryData}),o.id=n.id,console.log(n.id),0==o.userlogged?o.showReview=!1:(o.showReview=!0,o.onItemRating=function(e){o.starValue=e,console.log(o.starValue)},o.submitReview=function(e){var a={customerId:o.loggedInuserId,vendorId:n.id,rating:o.starValue,reviewTitle:"",reviewDescription:e.description};console.log(a),r.post(l+"/vendor/rating",a).then(function(e){console.log(e),1==e.data.status?(o.errmsg=!0,o.errmessage=e.data.successMessage):(o.errmsg=!0,o.errmessage=e.data.errorMessage)})}),r.get(l+"/vendor/"+n.id+"/reviews?pageNumber=1&pageSize=5").then(function(e){console.log(e),o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,console.log(o.averagereview),o.userRatings=e.data.reviewList,console.log(o.userRatings),o.totalreview=e.data.totalratingCount,console.log(o.totalreview),o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]}),o.page=1,o.PagingAct=function(e,a,t){r.get(l+"/vendor/"+n.id+"/reviews?pageNumber="+e+"&pageSize=5").then(function(e){console.log(e),o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,console.log(o.averagereview),o.userRatings=e.data.reviewList,console.log(o.userRatings),o.totalreview=e.data.totalratingCount,console.log(o.totalreview),o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]})},o.getStars=function(e){return parseFloat(e)/5*100+"%"},o.Booknowfun=function(){if(0==o.loggedInuserId)a.path("/login");else{var e={customerId:o.loggedInuserId,vendorId:n.id};r.post(l+"/vendor/booking",e).then(function(e){console.log(e),1==e.data.status&&(o.success=e.data.successMessage,$(".successPopup").modal("show"))})}};var e={vendorId:n.id,status:"Y"};r.post(l+"/getUserWallPaperPortfolio",e).then(function(e){console.log(e),o.walrecently=e.data.responseData,o.Description=e.data.vendorDescription,o.ShortDescription=e.data.vendorShortDescription,o.imageUrl=e.data.vendorImageURL,o.vendorName=e.data.vendorName,o.RecentlyLoaded=!0,o.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),localStorage.loggedInuserId,r.get(l+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),o.cartlist=e.data,console.log(o.cartlist),null==e.data.shoppingCartItems?o.lengthofcart=0:o.lengthofcart=e.data.shoppingCartItems.length}),r.get(l+"/vendortypes/3").then(function(e){console.log(e),o.arclist=e.data.responseData,o.totalCount=e.data.paginationData.totalCount}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("wallpaperdetailsCtrl",["$scope","$http","$location","$routeParams","resturl",function(o,r,t,n,l){o.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(o.loggedInUser=localStorage.loggedInUser,o.loggedInUserName=localStorage.loggedInUserName,o.loggedInuserId=localStorage.loggedInuserId,o.userlogged=!0):o.userlogged=!1,o.logout=function(){localStorage.clear(),t.path("/login")},o.myProfile=function(){t.path("/myaccount")},r.get(l+"/getAllCategories").then(function(e){console.log(e),o.menuitem=e.data.categoryData}),o.id=n.id,console.log(n.id),0==o.userlogged?o.showReview=!1:(o.showReview=!0,o.onItemRating=function(e){o.starValue=e,console.log(o.starValue)},o.submitReview=function(e){var a={customerId:o.loggedInuserId,vendorId:n.id,rating:o.starValue,reviewTitle:"",reviewDescription:e.description};console.log(a),r.post(l+"/vendor/rating",a).then(function(e){console.log(e),1==e.data.status?(o.errmsg=!0,o.errmessage=e.data.successMessage):(o.errmsg=!0,o.errmessage=e.data.errorMessage)})});var e={portfolioId:n.pid};r.post(l+"/getWallPaperDetails",e).then(function(e){console.log(e),o.Walldetails=e.data.wallPaperDetails,o.detailimageUrl=e.data.wallPaperDetails.imageURL,o.detailDescription=e.data.wallPaperDetails.portfolioName,o.detailprice=e.data.wallPaperDetails.price,o.size=e.data.wallPaperDetails.size,o.thickness=e.data.wallPaperDetails.thickness,o.brand=e.data.wallPaperDetails.brand}),o.portfolioId=n.pid,o.vendorId=n.venid,r.get(l+"/vendor/"+n.id+"/reviews?pageNumber=1&pageSize=5").then(function(e){console.log(e),o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,console.log(o.averagereview),o.userRatings=e.data.reviewList,console.log(o.userRatings),o.totalreview=e.data.totalratingCount,console.log(o.totalreview),o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]}),o.page=1,o.PagingAct=function(e,a,t){r.get(l+"/vendor/"+n.id+"/reviews?pageNumber="+e+"&pageSize=5").then(function(e){console.log(e),o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,console.log(o.averagereview),o.userRatings=e.data.reviewList,console.log(o.userRatings),o.totalreview=e.data.totalratingCount,console.log(o.totalreview),o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]})},o.getStars=function(e){return parseFloat(e)/5*100+"%"},o.Booknowfun=function(){if(0==o.loggedInuserId)t.path("/login");else{var e={customerId:o.loggedInuserId,vendorId:n.id};r.post(l+"/vendor/booking",e).then(function(e){console.log(e),1==e.data.status&&(o.success=e.data.successMessage,$(".successPopup").modal("show"))})}},o.reqObj={vendorId:o.vendorId,status:"Y"},r.post(l+"/getUserWallPaperPortfolio",e).then(function(e){console.log(e),o.walrecently=e.data.responseData,o.Description=e.data.responseData[0].vendorDescription,o.ShortDescription=e.data.responseData[0].vendorShortDescription,o.imageUrl=e.data.responseData[0].vendorImageURL,o.vendorName=e.data.vendorName,o.RecentlyLoaded=!0,o.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),localStorage.loggedInuserId,r.get(l+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),o.cartlist=e.data,console.log(o.cartlist),null==e.data.shoppingCartItems?o.lengthofcart=0:o.lengthofcart=e.data.shoppingCartItems.length}),r.get(l+"/vendortypes/4").then(function(e){console.log(e),o.arclist=e.data.responseData,o.totalCount=e.data.paginationData.totalCount}),o.addcart=function(e){if(0==o.userlogged)console.log(o.userlogged),console.log("Not Logged"),t.path("/login");else{var a={category:"Wallpaper",productId:n.pid,quantity:e,vendorId:n.venid};console.log(a),r.post(l+"/cart/addShoppingCartItem?userId="+localStorage.loggedInuserId,a).then(function(e){console.log(e),o.cartvalue=e.data.cartQuantity,console.log(o.cartvalue),r.get(l+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),o.cartlist=e.data,o.lengthofcart=e.data.shoppingCartItems.length,console.log(o.lengthofcart)})})}},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("subscribedCtrl",["$scope","$http","$location","$window","resturl","$rootScope",function(a,e,t,o,r,n){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],o.scrollTo(0,0),null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,"true"==n.subscriptionData.status?a.message=n.subscriptionData.successMessage:a.message=n.subscriptionData.errorMessage,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(r+"/getAllCategories").then(function(e){console.log(e),a.menuitem=e.data.categoryData}),e.get(r+"/getContactUS").then(function(e){console.log(e),a.contactdetails=e.data}),e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){console.log(e),a.cartlist=e.data,console.log(a.cartlist),null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})}]);